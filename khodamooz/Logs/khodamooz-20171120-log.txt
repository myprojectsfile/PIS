2017-11-20T16:26:15.4195550+03:30  [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"KhodamoozContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2017-11-20T16:26:15.5993865+03:30  [INF] Executed DbCommand ("22"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0" (0723d8ff)
2017-11-20T16:26:15.9109324+03:30  [INF] Executed DbCommand ("8"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetRoles] AS [r]
        WHERE [r].[Name] = N'Admin')
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-20T16:26:16.5238749+03:30 0HL9G2OB3JES0:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/   (ca22a1cb)
2017-11-20T16:26:16.9890349+03:30 0HL9G2OB3JES0:00000001 [INF] Sending file. Request path: '"/index.html"'. Physical path: '"E:\Projects\Port Projects\PIS\khodamooz\wwwroot\index.html"' (27b0a520)
2017-11-20T16:26:17.0848383+03:30 0HL9G2OB3JES0:00000001 [INF] Request finished in 623.6691ms 200 text/html (791a596a)
2017-11-20T16:26:17.2342533+03:30 0HL9G2OB3JES4:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/main.17beef77d862de3f5d52.bundle.js   (ca22a1cb)
2017-11-20T16:26:17.2658439+03:30 0HL9G2OB3JES3:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/scripts.f41f1e5a72e8c8ea9f1e.bundle.js   (ca22a1cb)
2017-11-20T16:26:17.2939865+03:30 0HL9G2OB3JES2:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/inline.10772392222b0eafd93d.bundle.js   (ca22a1cb)
2017-11-20T16:26:17.3170544+03:30 0HL9G2OB3JES3:00000001 [INF] Sending file. Request path: '"/scripts.f41f1e5a72e8c8ea9f1e.bundle.js"'. Physical path: '"E:\Projects\Port Projects\PIS\khodamooz\wwwroot\scripts.f41f1e5a72e8c8ea9f1e.bundle.js"' (27b0a520)
2017-11-20T16:26:17.3270406+03:30 0HL9G2OB3JES2:00000001 [INF] Sending file. Request path: '"/inline.10772392222b0eafd93d.bundle.js"'. Physical path: '"E:\Projects\Port Projects\PIS\khodamooz\wwwroot\inline.10772392222b0eafd93d.bundle.js"' (27b0a520)
2017-11-20T16:26:17.3327703+03:30 0HL9G2OB3JES1:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/polyfills.b8a5e5b846eb52e9e188.bundle.js   (ca22a1cb)
2017-11-20T16:26:17.3591617+03:30 0HL9G2OB3JES1:00000001 [INF] Sending file. Request path: '"/polyfills.b8a5e5b846eb52e9e188.bundle.js"'. Physical path: '"E:\Projects\Port Projects\PIS\khodamooz\wwwroot\polyfills.b8a5e5b846eb52e9e188.bundle.js"' (27b0a520)
2017-11-20T16:26:17.4321231+03:30 0HL9G2OB3JES0:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/styles.36432199a8184ea8e3e4.bundle.css   (ca22a1cb)
2017-11-20T16:26:17.5102659+03:30 0HL9G2OB3JES2:00000001 [INF] Request finished in 272.9344ms 200 application/javascript (791a596a)
2017-11-20T16:26:17.5975433+03:30 0HL9G2OB3JES4:00000001 [INF] Sending file. Request path: '"/main.17beef77d862de3f5d52.bundle.js"'. Physical path: '"E:\Projects\Port Projects\PIS\khodamooz\wwwroot\main.17beef77d862de3f5d52.bundle.js"' (27b0a520)
2017-11-20T16:26:17.5999420+03:30 0HL9G2OB3JES3:00000001 [INF] Request finished in 474.7565ms 200 application/javascript (791a596a)
2017-11-20T16:26:17.6523570+03:30 0HL9G2OB3JES1:00000001 [INF] Request finished in 368.7652ms 200 application/javascript (791a596a)
2017-11-20T16:26:17.6622054+03:30 0HL9G2OB3JES0:00000002 [INF] Sending file. Request path: '"/styles.36432199a8184ea8e3e4.bundle.css"'. Physical path: '"E:\Projects\Port Projects\PIS\khodamooz\wwwroot\styles.36432199a8184ea8e3e4.bundle.css"' (27b0a520)
2017-11-20T16:26:17.6710063+03:30 0HL9G2OB3JES4:00000001 [INF] Request finished in 575.8314ms 200 application/javascript (791a596a)
2017-11-20T16:26:17.6939805+03:30 0HL9G2OB3JES0:00000002 [INF] Request finished in 435.2207ms 200 text/css (791a596a)
2017-11-20T16:26:18.0382814+03:30 0HL9G2OB3JES2:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico   (ca22a1cb)
2017-11-20T16:26:18.0461749+03:30 0HL9G2OB3JES2:00000002 [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\Projects\Port Projects\PIS\khodamooz\wwwroot\favicon.ico"' (27b0a520)
2017-11-20T16:26:18.0629693+03:30 0HL9G2OB3JES2:00000002 [INF] Request finished in 30.4865ms 200 image/x-icon (791a596a)
2017-11-20T16:26:32.3434668+03:30 0HL9G2OB3JES1:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/automation/10/15   (ca22a1cb)
2017-11-20T16:26:32.3913113+03:30 0HL9G2OB3JES1:00000002 [INF] Request finished in 48.9693ms 404  (791a596a)
2017-11-20T16:26:44.8746259+03:30 0HL9G2OB3JES3:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/automation/10/15   (ca22a1cb)
2017-11-20T16:26:44.9536226+03:30 0HL9G2OB3JES3:00000002 [INF] Failed to validate the token "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJtb2hhbW1hZCIsImp0aSI6Ijg2MzRjMTIxLWI5MWYtNDYxZi1hMTNhLTBiN2MyZjIxN2I1MyIsIlN1cGVyVXNlciI6IlRydWUiLCJleHAiOjE1MDU2NjM3NjgsImlzcyI6Imh0dHA6Ly9raG9kYW1vb3ouaW8iLCJhdWQiOiJodHRwOi8va2hvZGFtb296LmlvIn0.tCW5w_MmSm5GUJ1ioA36TYZ7OG-Z4wV3Sdf42HSdKuc". (f3081a27)
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired.
ValidTo: '09/17/2017 15:56:08'
Current time: '11/20/2017 12:56:44'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwt, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.<HandleAuthenticateAsync>d__6.MoveNext()
2017-11-20T16:26:44.9989327+03:30 0HL9G2OB3JES3:00000002 [INF] "Bearer" was not authenticated. Failure message: "IDX10223: Lifetime validation failed. The token is expired.
ValidTo: '09/17/2017 15:56:08'
Current time: '11/20/2017 12:56:44'." (48071232)
2017-11-20T16:26:45.0249972+03:30 0HL9G2OB3JES3:00000002 [INF] Request finished in 170.2595ms 404  (791a596a)
2017-11-20T16:27:11.6559626+03:30 0HL9G2OB3JES0:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/automation/10/15   (ca22a1cb)
2017-11-20T16:27:11.7058592+03:30 0HL9G2OB3JES0:00000003 [INF] Request finished in 46.8591ms 404  (791a596a)
2017-11-20T16:27:47.1489550+03:30 0HL9G2OB3JES0:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/automation/LetterFlow/15/10   (ca22a1cb)
2017-11-20T16:27:47.6706202+03:30 0HL9G2OB3JES0:00000004 [INF] Executing action method "pis.AutomationController.GetLetterFlow (pis)" with arguments (["", "10"]) - ModelState is Valid (ba7f4ac2)
2017-11-20T16:27:47.7771927+03:30 0HL9G2OB3JES0:00000004 [INF] Executed action "pis.AutomationController.GetLetterFlow (pis)" in 481.5038ms (afa2e885)
2017-11-20T16:27:48.0116590+03:30 0HL9G2OB3JES0:00000004 [ERR] Connection id ""0HL9G2OB3JES0"", Request id ""0HL9G2OB3JES0:00000004"": An unhandled exception was thrown by the application. (560e7d32)
System.InvalidOperationException: No database provider has been configured for this DbContext. A provider can be configured by overriding the DbContext.OnConfiguring method or by using AddDbContext on the application service provider. If AddDbContext is used, then also ensure that your DbContext type accepts a DbContextOptions<TContext> object in its constructor and passes it to the base constructor for DbContext.
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.Initialize(IServiceProvider scopedProvider, IDbContextOptions contextOptions, DbContext context)
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at pis.AutomationController.<GetLetterFlow>d__2.MoveNext() in E:\Projects\Port Projects\PIS\khodamooz\Controller\AutomationController.cs:line 27
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at khodamooz.Startup.<>c.<<Configure>b__4_0>d.MoveNext() in E:\Projects\Port Projects\PIS\khodamooz\Startup.cs:line 107
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Server.IISIntegration.IISMiddleware.<Invoke>d__11.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Hosting.Internal.RequestServicesContainerMiddleware.<Invoke>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Frame`1.<ProcessRequestsAsync>d__2.MoveNext()
2017-11-20T16:27:48.0572591+03:30 0HL9G2OB3JES0:00000004 [INF] Request finished in 889.1504ms 500  (791a596a)
2017-11-20T16:28:30.6533651+03:30 0HL9G2OB3JES0:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/automation/LetterFlow   (ca22a1cb)
2017-11-20T16:28:30.6800942+03:30 0HL9G2OB3JES0:00000005 [INF] Request finished in 25.9665ms 404  (791a596a)
2017-11-20T16:28:31.6919212+03:30 0HL9G2OB3JES0:00000006 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/automation/LetterFlow   (ca22a1cb)
2017-11-20T16:28:31.7169577+03:30 0HL9G2OB3JES0:00000006 [INF] Request finished in 45.0632ms 404  (791a596a)
2017-11-20T16:28:32.2996785+03:30 0HL9G2OB3JES0:00000007 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/automation/LetterFlow   (ca22a1cb)
2017-11-20T16:28:32.3451653+03:30 0HL9G2OB3JES0:00000007 [INF] Request finished in 45.342ms 404  (791a596a)
2017-11-20T16:28:32.7261847+03:30 0HL9G2OB3JES0:00000008 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/automation/LetterFlow   (ca22a1cb)
2017-11-20T16:28:32.7711689+03:30 0HL9G2OB3JES0:00000008 [INF] Request finished in 45.8444ms 404  (791a596a)
2017-11-20T16:28:33.1708322+03:30 0HL9G2OB3JES0:00000009 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/automation/LetterFlow   (ca22a1cb)
2017-11-20T16:28:33.1968928+03:30 0HL9G2OB3JES0:00000009 [INF] Request finished in 45.6848ms 404  (791a596a)
2017-11-20T16:29:06.6613025+03:30 0HL9G2OB3JES0:0000000A [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/automation/LetterFlow?registerSerial=10&barcode=5   (ca22a1cb)
2017-11-20T16:29:06.6870986+03:30 0HL9G2OB3JES0:0000000A [INF] Request finished in 46.7467ms 404  (791a596a)
2017-11-20T16:29:07.6296484+03:30 0HL9G2OB3JES0:0000000B [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/automation/LetterFlow?registerSerial=10&barcode=5   (ca22a1cb)
2017-11-20T16:29:07.6745413+03:30 0HL9G2OB3JES0:0000000B [INF] Request finished in 26.2171ms 404  (791a596a)
2017-11-20T16:29:14.5118598+03:30 0HL9G2OB3JES0:0000000C [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/automation/LetterFlow/5   (ca22a1cb)
2017-11-20T16:29:14.5569756+03:30 0HL9G2OB3JES0:0000000C [INF] Request finished in 47.0775ms 404  (791a596a)
2017-11-20T16:29:18.6212410+03:30 0HL9G2OB3JES0:0000000D [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/automation/LetterFlow/5/6   (ca22a1cb)
2017-11-20T16:29:18.6741309+03:30 0HL9G2OB3JES0:0000000D [INF] Executing action method "pis.AutomationController.GetLetterFlow (pis)" with arguments (["", "6"]) - ModelState is Valid (ba7f4ac2)
2017-11-20T16:29:18.7938688+03:30 0HL9G2OB3JES0:0000000D [INF] Executed action "pis.AutomationController.GetLetterFlow (pis)" in 121.4335ms (afa2e885)
2017-11-20T16:29:18.9508066+03:30 0HL9G2OB3JES0:0000000D [ERR] Connection id ""0HL9G2OB3JES0"", Request id ""0HL9G2OB3JES0:0000000D"": An unhandled exception was thrown by the application. (560e7d32)
System.InvalidOperationException: No database provider has been configured for this DbContext. A provider can be configured by overriding the DbContext.OnConfiguring method or by using AddDbContext on the application service provider. If AddDbContext is used, then also ensure that your DbContext type accepts a DbContextOptions<TContext> object in its constructor and passes it to the base constructor for DbContext.
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.Initialize(IServiceProvider scopedProvider, IDbContextOptions contextOptions, DbContext context)
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at pis.AutomationController.<GetLetterFlow>d__2.MoveNext() in E:\Projects\Port Projects\PIS\khodamooz\Controller\AutomationController.cs:line 27
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at khodamooz.Startup.<>c.<<Configure>b__4_0>d.MoveNext() in E:\Projects\Port Projects\PIS\khodamooz\Startup.cs:line 107
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Server.IISIntegration.IISMiddleware.<Invoke>d__11.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Hosting.Internal.RequestServicesContainerMiddleware.<Invoke>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Frame`1.<ProcessRequestsAsync>d__2.MoveNext()
2017-11-20T16:29:18.9956036+03:30 0HL9G2OB3JES0:0000000D [INF] Request finished in 375.3491ms 500  (791a596a)
2017-11-20T16:31:06.8098563+03:30  [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"KhodamoozContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2017-11-20T16:31:06.9874470+03:30  [INF] Executed DbCommand ("21"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0" (0723d8ff)
2017-11-20T16:31:07.2587491+03:30  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetRoles] AS [r]
        WHERE [r].[Name] = N'Admin')
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-20T16:31:25.8374920+03:30 0HL9G2R1SQ6QT:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/automation/LetterFlow   (ca22a1cb)
2017-11-20T16:31:26.2691627+03:30 0HL9G2R1SQ6QT:00000001 [INF] Request finished in 459.5329ms 404  (791a596a)
2017-11-20T16:35:01.3433223+03:30  [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"KhodamoozContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2017-11-20T16:35:01.4305868+03:30  [INF] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0" (0723d8ff)
2017-11-20T16:35:01.6922172+03:30  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetRoles] AS [r]
        WHERE [r].[Name] = N'Admin')
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-20T16:35:02.1317661+03:30 0HL9G2T7P2SOK:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/   (ca22a1cb)
2017-11-20T16:35:02.4138196+03:30 0HL9G2T7P2SOK:00000001 [INF] Sending file. Request path: '"/index.html"'. Physical path: '"E:\Projects\Port Projects\PIS\khodamooz\wwwroot\index.html"' (27b0a520)
2017-11-20T16:35:02.4674764+03:30 0HL9G2T7P2SOK:00000001 [INF] Request finished in 349.2002ms 200 text/html (791a596a)
2017-11-20T16:35:02.4753006+03:30 0HL9G2T7P2SOK:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/scripts.f41f1e5a72e8c8ea9f1e.bundle.js   (ca22a1cb)
2017-11-20T16:35:02.4753147+03:30 0HL9G2T7P2SOL:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/main.17beef77d862de3f5d52.bundle.js   (ca22a1cb)
2017-11-20T16:35:02.4775646+03:30 0HL9G2T7P2SOK:00000002 [INF] Sending file. Request path: '"/scripts.f41f1e5a72e8c8ea9f1e.bundle.js"'. Physical path: '"E:\Projects\Port Projects\PIS\khodamooz\wwwroot\scripts.f41f1e5a72e8c8ea9f1e.bundle.js"' (27b0a520)
2017-11-20T16:35:02.4794083+03:30 0HL9G2T7P2SOL:00000001 [INF] Sending file. Request path: '"/main.17beef77d862de3f5d52.bundle.js"'. Physical path: '"E:\Projects\Port Projects\PIS\khodamooz\wwwroot\main.17beef77d862de3f5d52.bundle.js"' (27b0a520)
2017-11-20T16:35:02.4816808+03:30 0HL9G2T7P2SON:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/styles.36432199a8184ea8e3e4.bundle.css   (ca22a1cb)
2017-11-20T16:35:02.4822408+03:30 0HL9G2T7P2SON:00000001 [INF] Sending file. Request path: '"/styles.36432199a8184ea8e3e4.bundle.css"'. Physical path: '"E:\Projects\Port Projects\PIS\khodamooz\wwwroot\styles.36432199a8184ea8e3e4.bundle.css"' (27b0a520)
2017-11-20T16:35:02.4835800+03:30 0HL9G2T7P2SOO:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/inline.10772392222b0eafd93d.bundle.js   (ca22a1cb)
2017-11-20T16:35:02.4839382+03:30 0HL9G2T7P2SOO:00000001 [INF] Sending file. Request path: '"/inline.10772392222b0eafd93d.bundle.js"'. Physical path: '"E:\Projects\Port Projects\PIS\khodamooz\wwwroot\inline.10772392222b0eafd93d.bundle.js"' (27b0a520)
2017-11-20T16:35:02.4849023+03:30 0HL9G2T7P2SOO:00000001 [INF] Request finished in 1.1811ms 200 application/javascript (791a596a)
2017-11-20T16:35:02.4859822+03:30 0HL9G2T7P2SOM:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/polyfills.b8a5e5b846eb52e9e188.bundle.js   (ca22a1cb)
2017-11-20T16:35:02.4863173+03:30 0HL9G2T7P2SOM:00000001 [INF] Sending file. Request path: '"/polyfills.b8a5e5b846eb52e9e188.bundle.js"'. Physical path: '"E:\Projects\Port Projects\PIS\khodamooz\wwwroot\polyfills.b8a5e5b846eb52e9e188.bundle.js"' (27b0a520)
2017-11-20T16:35:02.4868774+03:30 0HL9G2T7P2SON:00000001 [INF] Request finished in 5.2134ms 200 text/css (791a596a)
2017-11-20T16:35:02.4888466+03:30 0HL9G2T7P2SOK:00000002 [INF] Request finished in 12.6816ms 200 application/javascript (791a596a)
2017-11-20T16:35:02.4891507+03:30 0HL9G2T7P2SOM:00000001 [INF] Request finished in 3.2477ms 200 application/javascript (791a596a)
2017-11-20T16:35:02.4980781+03:30 0HL9G2T7P2SOL:00000001 [INF] Request finished in 22.1382ms 200 application/javascript (791a596a)
2017-11-20T16:35:02.8469451+03:30 0HL9G2T7P2SOO:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico   (ca22a1cb)
2017-11-20T16:35:02.8472846+03:30 0HL9G2T7P2SOO:00000002 [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\Projects\Port Projects\PIS\khodamooz\wwwroot\favicon.ico"' (27b0a520)
2017-11-20T16:35:02.8477969+03:30 0HL9G2T7P2SOO:00000002 [INF] Request finished in 0.8827ms 200 image/x-icon (791a596a)
2017-11-20T16:35:05.9839006+03:30 0HL9G2T7P2SOM:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/automation/LetterFlow   (ca22a1cb)
2017-11-20T16:35:05.9869645+03:30 0HL9G2T7P2SOM:00000002 [INF] Request finished in 3.0347ms 404  (791a596a)
2017-11-20T16:35:24.3550400+03:30 0HL9G2T7P2SON:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/automation/LetterFlow   (ca22a1cb)
2017-11-20T16:35:24.3553482+03:30 0HL9G2T7P2SON:00000002 [INF] Request finished in 0.3467ms 404  (791a596a)
2017-11-20T16:35:56.0468599+03:30 0HL9G2T7P2SOK:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Automation/LetterFlow   (ca22a1cb)
2017-11-20T16:35:56.0472193+03:30 0HL9G2T7P2SOK:00000003 [INF] Request finished in 0.451ms 404  (791a596a)
2017-11-20T16:35:57.0916246+03:30 0HL9G2T7P2SOL:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Automation/LetterFlow   (ca22a1cb)
2017-11-20T16:35:57.0918742+03:30 0HL9G2T7P2SOL:00000002 [INF] Request finished in 0.3091ms 404  (791a596a)
2017-11-20T16:35:57.5602773+03:30 0HL9G2T7P2SOO:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Automation/LetterFlow   (ca22a1cb)
2017-11-20T16:35:57.5605267+03:30 0HL9G2T7P2SOO:00000003 [INF] Request finished in 0.2812ms 404  (791a596a)
2017-11-20T16:35:57.7465661+03:30 0HL9G2T7P2SOM:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Automation/LetterFlow   (ca22a1cb)
2017-11-20T16:35:57.7468539+03:30 0HL9G2T7P2SOM:00000003 [INF] Request finished in 0.3449ms 404  (791a596a)
2017-11-20T16:36:24.2688960+03:30 0HL9G2T7P2SON:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Automation/GetLetterFlow   (ca22a1cb)
2017-11-20T16:36:24.2691588+03:30 0HL9G2T7P2SON:00000003 [INF] Request finished in 0.3233ms 404  (791a596a)
2017-11-20T16:38:25.8677816+03:30  [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"KhodamoozContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2017-11-20T16:38:25.9611855+03:30  [INF] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0" (0723d8ff)
2017-11-20T16:38:26.2292654+03:30  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetRoles] AS [r]
        WHERE [r].[Name] = N'Admin')
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-20T16:38:26.5534032+03:30 0HL9G2V4MLIEL:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Automation/GetLetterFlow   (ca22a1cb)
2017-11-20T16:38:27.1543015+03:30 0HL9G2V4MLIEL:00000001 [INF] Executing action method "pis.AutomationController.GetLetterFlow (pis)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-20T16:38:27.1643202+03:30 0HL9G2V4MLIEL:00000001 [INF] Executed action "pis.AutomationController.GetLetterFlow (pis)" in 327.0252ms (afa2e885)
2017-11-20T16:38:27.2714340+03:30 0HL9G2V4MLIEL:00000001 [ERR] Connection id ""0HL9G2V4MLIEL"", Request id ""0HL9G2V4MLIEL:00000001"": An unhandled exception was thrown by the application. (560e7d32)
System.InvalidOperationException: No database provider has been configured for this DbContext. A provider can be configured by overriding the DbContext.OnConfiguring method or by using AddDbContext on the application service provider. If AddDbContext is used, then also ensure that your DbContext type accepts a DbContextOptions<TContext> object in its constructor and passes it to the base constructor for DbContext.
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.Initialize(IServiceProvider scopedProvider, IDbContextOptions contextOptions, DbContext context)
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at pis.AutomationController.<GetLetterFlow>d__2.MoveNext() in E:\Projects\Port Projects\PIS\khodamooz\Controller\AutomationController.cs:line 27
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at khodamooz.Startup.<>c.<<Configure>b__4_0>d.MoveNext() in E:\Projects\Port Projects\PIS\khodamooz\Startup.cs:line 107
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Server.IISIntegration.IISMiddleware.<Invoke>d__11.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Hosting.Internal.RequestServicesContainerMiddleware.<Invoke>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Frame`1.<ProcessRequestsAsync>d__2.MoveNext()
2017-11-20T16:38:27.3119899+03:30 0HL9G2V4MLIEL:00000001 [INF] Request finished in 771.0197ms 500  (791a596a)
2017-11-20T16:39:12.9613824+03:30  [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"KhodamoozContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2017-11-20T16:39:13.0439508+03:30  [INF] Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0" (0723d8ff)
2017-11-20T16:39:13.2549704+03:30  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetRoles] AS [r]
        WHERE [r].[Name] = N'Admin')
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-20T16:39:13.5524036+03:30 0HL9G2VIMOSA1:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Automation/GetLetterFlow   (ca22a1cb)
2017-11-20T16:39:14.1610199+03:30 0HL9G2VIMOSA1:00000001 [INF] Executing action method "pis.AutomationController.GetLetterFlow (pis)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-20T16:39:14.1861712+03:30 0HL9G2VIMOSA1:00000001 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-20T16:39:14.2361693+03:30 0HL9G2VIMOSA1:00000001 [INF] Executed action "pis.AutomationController.GetLetterFlow (pis)" in 384.6487ms (afa2e885)
2017-11-20T16:39:14.2431002+03:30 0HL9G2VIMOSA1:00000001 [INF] Request finished in 708.7957ms 200 text/plain; charset=utf-8 (791a596a)
2017-11-20T16:41:45.4272534+03:30  [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"KhodamoozContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2017-11-20T16:41:45.6151082+03:30  [INF] Executed DbCommand ("21"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0" (0723d8ff)
2017-11-20T16:41:45.9113295+03:30  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetRoles] AS [r]
        WHERE [r].[Name] = N'Admin')
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-20T16:41:48.9705905+03:30 0HL9G3106T0LA:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Automation/GetLetterFlow   (ca22a1cb)
2017-11-20T16:41:49.7381974+03:30 0HL9G3106T0LA:00000001 [INF] Executing action method "pis.AutomationController.GetLetterFlow (pis)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-20T16:41:49.8289934+03:30 0HL9G3106T0LA:00000001 [INF] Executed action "pis.AutomationController.GetLetterFlow (pis)" in 412.9033ms (afa2e885)
2017-11-20T16:41:50.0091955+03:30 0HL9G3106T0LA:00000001 [ERR] Connection id ""0HL9G3106T0LA"", Request id ""0HL9G3106T0LA:00000001"": An unhandled exception was thrown by the application. (560e7d32)
System.InvalidOperationException: No database provider has been configured for this DbContext. A provider can be configured by overriding the DbContext.OnConfiguring method or by using AddDbContext on the application service provider. If AddDbContext is used, then also ensure that your DbContext type accepts a DbContextOptions<TContext> object in its constructor and passes it to the base constructor for DbContext.
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.Initialize(IServiceProvider scopedProvider, IDbContextOptions contextOptions, DbContext context)
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at pis.AutomationController.<GetLetterFlow>d__2.MoveNext() in E:\Projects\Port Projects\PIS\khodamooz\Controller\AutomationController.cs:line 27
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at khodamooz.Startup.<>c.<<Configure>b__4_0>d.MoveNext() in E:\Projects\Port Projects\PIS\khodamooz\Startup.cs:line 107
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Server.IISIntegration.IISMiddleware.<Invoke>d__11.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Hosting.Internal.RequestServicesContainerMiddleware.<Invoke>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Frame`1.<ProcessRequestsAsync>d__2.MoveNext()
2017-11-20T16:41:50.0918433+03:30 0HL9G3106T0LA:00000001 [INF] Request finished in 1150.0126ms 500  (791a596a)
2017-11-20T16:42:55.9658776+03:30 0HL9G3106T0LB:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Automation/GetLetterFlow   (ca22a1cb)
2017-11-20T16:42:56.0160393+03:30 0HL9G3106T0LB:00000001 [INF] Executing action method "pis.AutomationController.GetLetterFlow (pis)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-20T16:42:56.0802233+03:30 0HL9G3106T0LB:00000001 [INF] Executed action "pis.AutomationController.GetLetterFlow (pis)" in 67.6729ms (afa2e885)
2017-11-20T16:42:56.2020173+03:30 0HL9G3106T0LB:00000001 [ERR] Connection id ""0HL9G3106T0LB"", Request id ""0HL9G3106T0LB:00000001"": An unhandled exception was thrown by the application. (560e7d32)
System.InvalidOperationException: No database provider has been configured for this DbContext. A provider can be configured by overriding the DbContext.OnConfiguring method or by using AddDbContext on the application service provider. If AddDbContext is used, then also ensure that your DbContext type accepts a DbContextOptions<TContext> object in its constructor and passes it to the base constructor for DbContext.
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.Initialize(IServiceProvider scopedProvider, IDbContextOptions contextOptions, DbContext context)
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at pis.AutomationController.<GetLetterFlow>d__2.MoveNext() in E:\Projects\Port Projects\PIS\khodamooz\Controller\AutomationController.cs:line 27
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at khodamooz.Startup.<>c.<<Configure>b__4_0>d.MoveNext() in E:\Projects\Port Projects\PIS\khodamooz\Startup.cs:line 107
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Server.IISIntegration.IISMiddleware.<Invoke>d__11.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Hosting.Internal.RequestServicesContainerMiddleware.<Invoke>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Frame`1.<ProcessRequestsAsync>d__2.MoveNext()
2017-11-20T16:42:56.2458031+03:30 0HL9G3106T0LB:00000001 [INF] Request finished in 282.0203ms 500  (791a596a)
2017-11-20T16:49:38.1019224+03:30  [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"KhodamoozContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2017-11-20T16:49:38.1846810+03:30  [INF] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0" (0723d8ff)
2017-11-20T16:49:38.4005261+03:30  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetRoles] AS [r]
        WHERE [r].[Name] = N'Admin')
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-20T16:49:38.7446225+03:30 0HL9G35D14Q3J:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Automation/GetLetterFlow   (ca22a1cb)
2017-11-20T16:49:39.3465177+03:30 0HL9G35D14Q3J:00000001 [INF] Executing action method "pis.AutomationController.GetLetterFlow (pis)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-20T16:49:39.3565996+03:30 0HL9G35D14Q3J:00000001 [INF] Executed action "pis.AutomationController.GetLetterFlow (pis)" in 321.4701ms (afa2e885)
2017-11-20T16:49:39.4622436+03:30 0HL9G35D14Q3J:00000001 [ERR] Connection id ""0HL9G35D14Q3J"", Request id ""0HL9G35D14Q3J:00000001"": An unhandled exception was thrown by the application. (560e7d32)
System.InvalidOperationException: No database provider has been configured for this DbContext. A provider can be configured by overriding the DbContext.OnConfiguring method or by using AddDbContext on the application service provider. If AddDbContext is used, then also ensure that your DbContext type accepts a DbContextOptions<TContext> object in its constructor and passes it to the base constructor for DbContext.
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.Initialize(IServiceProvider scopedProvider, IDbContextOptions contextOptions, DbContext context)
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at pis.AutomationController.<GetLetterFlow>d__2.MoveNext() in E:\Projects\Port Projects\PIS\khodamooz\Controller\AutomationController.cs:line 27
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at khodamooz.Startup.<>c.<<Configure>b__4_0>d.MoveNext() in E:\Projects\Port Projects\PIS\khodamooz\Startup.cs:line 107
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Server.IISIntegration.IISMiddleware.<Invoke>d__11.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Hosting.Internal.RequestServicesContainerMiddleware.<Invoke>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Frame`1.<ProcessRequestsAsync>d__2.MoveNext()
2017-11-20T16:49:39.4964406+03:30 0HL9G35D14Q3J:00000001 [INF] Request finished in 764.8366ms 500  (791a596a)
2017-11-20T16:49:45.6445622+03:30 0HL9G35D14Q3J:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Automation/GetLetterFlow   (ca22a1cb)
2017-11-20T16:49:45.6471784+03:30 0HL9G35D14Q3J:00000002 [INF] Executing action method "pis.AutomationController.GetLetterFlow (pis)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-20T16:49:45.6481976+03:30 0HL9G35D14Q3J:00000002 [INF] Executed action "pis.AutomationController.GetLetterFlow (pis)" in 1.4125ms (afa2e885)
2017-11-20T16:49:45.7198393+03:30 0HL9G35D14Q3J:00000002 [ERR] Connection id ""0HL9G35D14Q3J"", Request id ""0HL9G35D14Q3J:00000002"": An unhandled exception was thrown by the application. (560e7d32)
System.InvalidOperationException: No database provider has been configured for this DbContext. A provider can be configured by overriding the DbContext.OnConfiguring method or by using AddDbContext on the application service provider. If AddDbContext is used, then also ensure that your DbContext type accepts a DbContextOptions<TContext> object in its constructor and passes it to the base constructor for DbContext.
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.Initialize(IServiceProvider scopedProvider, IDbContextOptions contextOptions, DbContext context)
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at pis.AutomationController.<GetLetterFlow>d__2.MoveNext() in E:\Projects\Port Projects\PIS\khodamooz\Controller\AutomationController.cs:line 27
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at khodamooz.Startup.<>c.<<Configure>b__4_0>d.MoveNext() in E:\Projects\Port Projects\PIS\khodamooz\Startup.cs:line 107
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Server.IISIntegration.IISMiddleware.<Invoke>d__11.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Hosting.Internal.RequestServicesContainerMiddleware.<Invoke>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Frame`1.<ProcessRequestsAsync>d__2.MoveNext()
2017-11-20T16:49:45.7201427+03:30 0HL9G35D14Q3J:00000002 [INF] Request finished in 75.6489ms 500  (791a596a)
2017-11-20T16:50:00.1164087+03:30  [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"KhodamoozContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2017-11-20T16:50:00.3225370+03:30  [INF] Executed DbCommand ("21"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0" (0723d8ff)
2017-11-20T16:50:00.6418613+03:30  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetRoles] AS [r]
        WHERE [r].[Name] = N'Admin')
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-20T16:52:02.6927702+03:30 0HL9G35JM3MOV:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Automation/GetLetterFlow   (ca22a1cb)
2017-11-20T16:52:03.4848231+03:30 0HL9G35JM3MOV:00000001 [INF] Executing action method "pis.AutomationController.GetLetterFlow (pis)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-20T16:52:03.5906204+03:30 0HL9G35JM3MOV:00000001 [INF] Executed action "pis.AutomationController.GetLetterFlow (pis)" in 444.3114ms (afa2e885)
2017-11-20T16:52:03.7748698+03:30 0HL9G35JM3MOV:00000001 [ERR] Connection id ""0HL9G35JM3MOV"", Request id ""0HL9G35JM3MOV:00000001"": An unhandled exception was thrown by the application. (560e7d32)
System.InvalidOperationException: No database provider has been configured for this DbContext. A provider can be configured by overriding the DbContext.OnConfiguring method or by using AddDbContext on the application service provider. If AddDbContext is used, then also ensure that your DbContext type accepts a DbContextOptions<TContext> object in its constructor and passes it to the base constructor for DbContext.
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.Initialize(IServiceProvider scopedProvider, IDbContextOptions contextOptions, DbContext context)
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at pis.AutomationController.<GetLetterFlow>d__2.MoveNext() in E:\Projects\Port Projects\PIS\khodamooz\Controller\AutomationController.cs:line 27
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at khodamooz.Startup.<>c.<<Configure>b__4_0>d.MoveNext() in E:\Projects\Port Projects\PIS\khodamooz\Startup.cs:line 107
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Server.IISIntegration.IISMiddleware.<Invoke>d__11.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Hosting.Internal.RequestServicesContainerMiddleware.<Invoke>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Frame`1.<ProcessRequestsAsync>d__2.MoveNext()
2017-11-20T16:52:03.8639427+03:30 0HL9G35JM3MOV:00000001 [INF] Request finished in 1197.1004ms 500  (791a596a)
2017-11-20T17:03:00.2645845+03:30  [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"KhodamoozContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2017-11-20T17:03:00.4309295+03:30  [INF] Executed DbCommand ("20"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0" (0723d8ff)
2017-11-20T17:03:00.7066279+03:30  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetRoles] AS [r]
        WHERE [r].[Name] = N'Admin')
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-20T17:03:04.7997302+03:30 0HL9G3CS6344T:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Automation/GetLetterFlow   (ca22a1cb)
2017-11-20T17:03:05.7314320+03:30 0HL9G3CS6344T:00000001 [INF] Executing action method "pis.AutomationController.GetLetterFlow (pis)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-20T17:03:05.8347625+03:30 0HL9G3CS6344T:00000001 [INF] Executed action "pis.AutomationController.GetLetterFlow (pis)" in 527.6325ms (afa2e885)
2017-11-20T17:03:06.0540956+03:30 0HL9G3CS6344T:00000001 [ERR] Connection id ""0HL9G3CS6344T"", Request id ""0HL9G3CS6344T:00000001"": An unhandled exception was thrown by the application. (560e7d32)
System.InvalidOperationException: No database provider has been configured for this DbContext. A provider can be configured by overriding the DbContext.OnConfiguring method or by using AddDbContext on the application service provider. If AddDbContext is used, then also ensure that your DbContext type accepts a DbContextOptions<TContext> object in its constructor and passes it to the base constructor for DbContext.
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.Initialize(IServiceProvider scopedProvider, IDbContextOptions contextOptions, DbContext context)
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at pis.AutomationController.<GetLetterFlow>d__2.MoveNext() in E:\Projects\Port Projects\PIS\khodamooz\Controller\AutomationController.cs:line 27
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at khodamooz.Startup.<>c.<<Configure>b__4_0>d.MoveNext() in E:\Projects\Port Projects\PIS\khodamooz\Startup.cs:line 107
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Server.IISIntegration.IISMiddleware.<Invoke>d__11.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Hosting.Internal.RequestServicesContainerMiddleware.<Invoke>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Frame`1.<ProcessRequestsAsync>d__2.MoveNext()
2017-11-20T17:03:06.1292977+03:30 0HL9G3CS6344T:00000001 [INF] Request finished in 1377.6802ms 500  (791a596a)
2017-11-20T17:17:38.6890950+03:30  [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"KhodamoozContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2017-11-20T17:17:38.8638369+03:30  [INF] Executed DbCommand ("20"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0" (0723d8ff)
2017-11-20T17:17:39.1416625+03:30  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetRoles] AS [r]
        WHERE [r].[Name] = N'Admin')
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-20T17:17:50.6150401+03:30 0HL9G3L1U6BVB:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Automation/GetLetterFlow   (ca22a1cb)
2017-11-20T17:17:51.4338141+03:30 0HL9G3L1U6BVB:00000001 [INF] Executing action method "pis.AutomationController.GetLetterFlow (pis)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-20T17:17:51.5239822+03:30 0HL9G3L1U6BVB:00000001 [INF] Executed action "pis.AutomationController.GetLetterFlow (pis)" in 421.2014ms (afa2e885)
2017-11-20T17:17:51.7061566+03:30 0HL9G3L1U6BVB:00000001 [ERR] Connection id ""0HL9G3L1U6BVB"", Request id ""0HL9G3L1U6BVB:00000001"": An unhandled exception was thrown by the application. (560e7d32)
System.InvalidOperationException: No database provider has been configured for this DbContext. A provider can be configured by overriding the DbContext.OnConfiguring method or by using AddDbContext on the application service provider. If AddDbContext is used, then also ensure that your DbContext type accepts a DbContextOptions<TContext> object in its constructor and passes it to the base constructor for DbContext.
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.Initialize(IServiceProvider scopedProvider, IDbContextOptions contextOptions, DbContext context)
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at pis.AutomationController.<GetLetterFlow>d__2.MoveNext() in E:\Projects\Port Projects\PIS\khodamooz\Controller\AutomationController.cs:line 27
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at khodamooz.Startup.<>c.<<Configure>b__4_0>d.MoveNext() in E:\Projects\Port Projects\PIS\khodamooz\Startup.cs:line 107
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Server.IISIntegration.IISMiddleware.<Invoke>d__11.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Hosting.Internal.RequestServicesContainerMiddleware.<Invoke>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Frame`1.<ProcessRequestsAsync>d__2.MoveNext()
2017-11-20T17:17:51.7877175+03:30 0HL9G3L1U6BVB:00000001 [INF] Request finished in 1199.646ms 500  (791a596a)
2017-11-20T17:22:06.8873174+03:30  [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"KhodamoozContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2017-11-20T17:22:07.0942526+03:30  [INF] Executed DbCommand ("21"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0" (0723d8ff)
2017-11-20T17:22:07.3695346+03:30  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetRoles] AS [r]
        WHERE [r].[Name] = N'Admin')
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-20T17:22:09.7070084+03:30 0HL9G3NHT915I:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Automation/GetLetterFlow   (ca22a1cb)
2017-11-20T17:22:10.5919343+03:30 0HL9G3NHT915I:00000001 [INF] Executing action method "pis.AutomationController.GetLetterFlow (pis)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-20T17:22:10.6810911+03:30 0HL9G3NHT915I:00000001 [INF] Executed action "pis.AutomationController.GetLetterFlow (pis)" in 490.4121ms (afa2e885)
2017-11-20T17:22:10.8827690+03:30 0HL9G3NHT915I:00000001 [ERR] Connection id ""0HL9G3NHT915I"", Request id ""0HL9G3NHT915I:00000001"": An unhandled exception was thrown by the application. (560e7d32)
System.InvalidOperationException: No database provider has been configured for this DbContext. A provider can be configured by overriding the DbContext.OnConfiguring method or by using AddDbContext on the application service provider. If AddDbContext is used, then also ensure that your DbContext type accepts a DbContextOptions<TContext> object in its constructor and passes it to the base constructor for DbContext.
   at Microsoft.EntityFrameworkCore.Internal.DbContextServices.Initialize(IServiceProvider scopedProvider, IDbContextOptions contextOptions, DbContext context)
   at Microsoft.EntityFrameworkCore.DbContext.get_InternalServiceProvider()
   at Microsoft.EntityFrameworkCore.DbContext.get_DbContextDependencies()
   at Microsoft.EntityFrameworkCore.DbContext.get_Model()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityType()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.get_EntityQueryable()
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.System.Linq.IQueryable.get_Provider()
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ExecuteAsync[TSource,TResult](MethodInfo operatorMethodInfo, IQueryable`1 source, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.FirstOrDefaultAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)
   at pis.AutomationController.<GetLetterFlow>d__2.MoveNext() in E:\Projects\Port Projects\PIS\khodamooz\Controller\AutomationController.cs:line 27
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at khodamooz.Startup.<>c.<<Configure>b__4_0>d.MoveNext() in E:\Projects\Port Projects\PIS\khodamooz\Startup.cs:line 107
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Server.IISIntegration.IISMiddleware.<Invoke>d__11.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Hosting.Internal.RequestServicesContainerMiddleware.<Invoke>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Frame`1.<ProcessRequestsAsync>d__2.MoveNext()
2017-11-20T17:22:10.9705844+03:30 0HL9G3NHT915I:00000001 [INF] Request finished in 1288.8332ms 500  (791a596a)
2017-11-20T17:23:07.8981082+03:30  [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"KhodamoozContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2017-11-20T17:23:08.0994467+03:30  [INF] Executed DbCommand ("20"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0" (0723d8ff)
2017-11-20T17:23:08.4232006+03:30  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetRoles] AS [r]
        WHERE [r].[Name] = N'Admin')
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-20T17:23:09.3022840+03:30 0HL9G3O43HCBN:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Automation/GetLetterFlow   (ca22a1cb)
2017-11-20T17:23:10.1819858+03:30 0HL9G3O43HCBN:00000001 [INF] Executing action method "pis.AutomationController.GetLetterFlow (pis)" with arguments (null) - ModelState is Valid (ba7f4ac2)
2017-11-20T17:23:23.1858387+03:30 0HL9G3O43HCBN:00000001 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"eOrganizationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2017-11-20T17:23:23.2410965+03:30 0HL9G3O43HCBN:00000001 [WRN] Query: '"(from Actions <generated>_1 in DbSet<Actions> select [<generated>_1]).FirstOrDefault()"' uses First/FirstOrDefault operation without OrderBy and filter which may lead to unpredictable results. (e99f2322)
2017-11-20T17:23:23.4190057+03:30 0HL9G3O43HCBN:00000001 [INF] Executed DbCommand ("12"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ActionCode], [a].[ActionName], [a].[ActionOrder], [a].[FarsiDescription], [a].[IsActiveForCardTable], [a].[IsActiveForSend], [a].[IsActiveForSendCopy], [a].[IsArchive], [a].[IsExport], [a].[IsIndicator], [a].[IsNeedToResponse], [a].[IsSession], [a].[IsSign], [a].[IsUsedForECE], [a].[IsUsedForFCF], [a].[ResponseToSend]
FROM [Actions] AS [a]" (0723d8ff)
2017-11-20T17:23:23.5235886+03:30 0HL9G3O43HCBN:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Actions] AS [a]" (0723d8ff)
2017-11-20T17:23:23.5958339+03:30 0HL9G3O43HCBN:00000001 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-20T17:23:23.7431679+03:30 0HL9G3O43HCBN:00000001 [INF] Executed action "pis.AutomationController.GetLetterFlow (pis)" in 13966.2783ms (afa2e885)
2017-11-20T17:23:23.7952188+03:30 0HL9G3O43HCBN:00000001 [INF] Request finished in 14505.0982ms 200 application/json; charset=utf-8 (791a596a)
2017-11-20T17:26:55.4722604+03:30  [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"KhodamoozContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2017-11-20T17:26:55.5674692+03:30  [INF] Executed DbCommand ("17"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0" (0723d8ff)
2017-11-20T17:26:55.7807588+03:30  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetRoles] AS [r]
        WHERE [r].[Name] = N'Admin')
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-20T17:26:56.1639542+03:30 0HL9G3Q7QPDF4:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Automation/GetLetterFlow/10/15   (ca22a1cb)
2017-11-20T17:26:56.7894688+03:30 0HL9G3Q7QPDF4:00000001 [INF] Executing action method "pis.AutomationController.GetLetterFlow (pis)" with arguments (["10", "15"]) - ModelState is Valid (ba7f4ac2)
2017-11-20T17:27:01.1912733+03:30 0HL9G3Q7QPDF4:00000001 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"eOrganizationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2017-11-20T17:27:01.1977336+03:30 0HL9G3Q7QPDF4:00000001 [WRN] Query: '"(from Actions <generated>_1 in DbSet<Actions> select [<generated>_1]).FirstOrDefault()"' uses First/FirstOrDefault operation without OrderBy and filter which may lead to unpredictable results. (e99f2322)
2017-11-20T17:27:01.2849798+03:30 0HL9G3Q7QPDF4:00000001 [INF] Executed DbCommand ("6"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ActionCode], [a].[ActionName], [a].[ActionOrder], [a].[FarsiDescription], [a].[IsActiveForCardTable], [a].[IsActiveForSend], [a].[IsActiveForSendCopy], [a].[IsArchive], [a].[IsExport], [a].[IsIndicator], [a].[IsNeedToResponse], [a].[IsSession], [a].[IsSign], [a].[IsUsedForECE], [a].[IsUsedForFCF], [a].[ResponseToSend]
FROM [Actions] AS [a]" (0723d8ff)
2017-11-20T17:27:01.3444447+03:30 0HL9G3Q7QPDF4:00000001 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-20T17:27:01.4302192+03:30 0HL9G3Q7QPDF4:00000001 [INF] Executed action "pis.AutomationController.GetLetterFlow (pis)" in 4985.3055ms (afa2e885)
2017-11-20T17:27:01.4382033+03:30 0HL9G3Q7QPDF4:00000001 [INF] Request finished in 5291.1372ms 200 application/json; charset=utf-8 (791a596a)
2017-11-20T17:27:07.9116563+03:30 0HL9G3Q7QPDF4:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Automation/GetLetterFlow/10/15   (ca22a1cb)
2017-11-20T17:27:07.9148091+03:30 0HL9G3Q7QPDF4:00000002 [INF] Executing action method "pis.AutomationController.GetLetterFlow (pis)" with arguments (["10", "15"]) - ModelState is Valid (ba7f4ac2)
2017-11-20T17:27:07.9155059+03:30 0HL9G3Q7QPDF4:00000002 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"eOrganizationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2017-11-20T17:27:07.9205790+03:30 0HL9G3Q7QPDF4:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ActionCode], [a].[ActionName], [a].[ActionOrder], [a].[FarsiDescription], [a].[IsActiveForCardTable], [a].[IsActiveForSend], [a].[IsActiveForSendCopy], [a].[IsArchive], [a].[IsExport], [a].[IsIndicator], [a].[IsNeedToResponse], [a].[IsSession], [a].[IsSign], [a].[IsUsedForECE], [a].[IsUsedForFCF], [a].[ResponseToSend]
FROM [Actions] AS [a]" (0723d8ff)
2017-11-20T17:27:07.9225543+03:30 0HL9G3Q7QPDF4:00000002 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-20T17:27:07.9228599+03:30 0HL9G3Q7QPDF4:00000002 [INF] Executed action "pis.AutomationController.GetLetterFlow (pis)" in 8.6574ms (afa2e885)
2017-11-20T17:27:07.9229741+03:30 0HL9G3Q7QPDF4:00000002 [INF] Request finished in 11.4265ms 200 application/json; charset=utf-8 (791a596a)
2017-11-20T17:27:17.8806144+03:30 0HL9G3Q7QPDF4:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Automation/GetLetterFlow/10   (ca22a1cb)
2017-11-20T17:27:17.8932188+03:30 0HL9G3Q7QPDF4:00000003 [INF] Request finished in 12.6131ms 404  (791a596a)
2017-11-20T17:27:22.6370073+03:30 0HL9G3Q7QPDF4:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Automation/GetLetterFlow/10/14   (ca22a1cb)
2017-11-20T17:27:22.6375460+03:30 0HL9G3Q7QPDF4:00000004 [INF] Executing action method "pis.AutomationController.GetLetterFlow (pis)" with arguments (["10", "14"]) - ModelState is Valid (ba7f4ac2)
2017-11-20T17:27:22.6378090+03:30 0HL9G3Q7QPDF4:00000004 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"eOrganizationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2017-11-20T17:27:22.6402046+03:30 0HL9G3Q7QPDF4:00000004 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ActionCode], [a].[ActionName], [a].[ActionOrder], [a].[FarsiDescription], [a].[IsActiveForCardTable], [a].[IsActiveForSend], [a].[IsActiveForSendCopy], [a].[IsArchive], [a].[IsExport], [a].[IsIndicator], [a].[IsNeedToResponse], [a].[IsSession], [a].[IsSign], [a].[IsUsedForECE], [a].[IsUsedForFCF], [a].[ResponseToSend]
FROM [Actions] AS [a]" (0723d8ff)
2017-11-20T17:27:22.6405387+03:30 0HL9G3Q7QPDF4:00000004 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-20T17:27:22.6406841+03:30 0HL9G3Q7QPDF4:00000004 [INF] Executed action "pis.AutomationController.GetLetterFlow (pis)" in 3.4884ms (afa2e885)
2017-11-20T17:27:22.6407647+03:30 0HL9G3Q7QPDF4:00000004 [INF] Request finished in 3.8096ms 200 application/json; charset=utf-8 (791a596a)
2017-11-20T17:27:22.8270798+03:30 0HL9G3Q7QPDF4:00000005 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Automation/GetLetterFlow/10/14   (ca22a1cb)
2017-11-20T17:27:22.8275963+03:30 0HL9G3Q7QPDF4:00000005 [INF] Executing action method "pis.AutomationController.GetLetterFlow (pis)" with arguments (["10", "14"]) - ModelState is Valid (ba7f4ac2)
2017-11-20T17:27:22.8278195+03:30 0HL9G3Q7QPDF4:00000005 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"eOrganizationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2017-11-20T17:27:22.8299793+03:30 0HL9G3Q7QPDF4:00000005 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ActionCode], [a].[ActionName], [a].[ActionOrder], [a].[FarsiDescription], [a].[IsActiveForCardTable], [a].[IsActiveForSend], [a].[IsActiveForSendCopy], [a].[IsArchive], [a].[IsExport], [a].[IsIndicator], [a].[IsNeedToResponse], [a].[IsSession], [a].[IsSign], [a].[IsUsedForECE], [a].[IsUsedForFCF], [a].[ResponseToSend]
FROM [Actions] AS [a]" (0723d8ff)
2017-11-20T17:27:22.8302269+03:30 0HL9G3Q7QPDF4:00000005 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-20T17:27:22.8303591+03:30 0HL9G3Q7QPDF4:00000005 [INF] Executed action "pis.AutomationController.GetLetterFlow (pis)" in 3.0996ms (afa2e885)
2017-11-20T17:27:22.8305220+03:30 0HL9G3Q7QPDF4:00000005 [INF] Request finished in 3.4409ms 200 application/json; charset=utf-8 (791a596a)
2017-11-20T18:15:55.0144282+03:30  [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"KhodamoozContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2017-11-20T18:15:55.0960227+03:30  [INF] Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0" (0723d8ff)
2017-11-20T18:15:55.2955208+03:30  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetRoles] AS [r]
        WHERE [r].[Name] = N'Admin')
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-20T18:15:55.8093171+03:30 0HL9G4LJTEL9T:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Automation/GetLetterFlow/10/14   (ca22a1cb)
2017-11-20T18:15:56.4656789+03:30 0HL9G4LJTEL9T:00000001 [INF] Executing action method "pis.AutomationController.GetLetterFlow (pis)" with arguments (["10", "14"]) - ModelState is Valid (ba7f4ac2)
2017-11-20T18:16:00.9914247+03:30 0HL9G4LJTEL9T:00000001 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"eOrganizationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2017-11-20T18:16:01.0102461+03:30 0HL9G4LJTEL9T:00000001 [WRN] Query: '"(from Actions <generated>_1 in DbSet<Actions> select [<generated>_1]).FirstOrDefault()"' uses First/FirstOrDefault operation without OrderBy and filter which may lead to unpredictable results. (e99f2322)
2017-11-20T18:16:01.1003079+03:30 0HL9G4LJTEL9T:00000001 [INF] Executed DbCommand ("5"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT TOP(1) [a].[ActionCode], [a].[ActionName], [a].[ActionOrder], [a].[FarsiDescription], [a].[IsActiveForCardTable], [a].[IsActiveForSend], [a].[IsActiveForSendCopy], [a].[IsArchive], [a].[IsExport], [a].[IsIndicator], [a].[IsNeedToResponse], [a].[IsSession], [a].[IsSign], [a].[IsUsedForECE], [a].[IsUsedForFCF], [a].[ResponseToSend]
FROM [Actions] AS [a]" (0723d8ff)
2017-11-20T18:16:01.1606920+03:30 0HL9G4LJTEL9T:00000001 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-20T18:16:01.2457039+03:30 0HL9G4LJTEL9T:00000001 [INF] Executed action "pis.AutomationController.GetLetterFlow (pis)" in 5141.8417ms (afa2e885)
2017-11-20T18:16:01.2539265+03:30 0HL9G4LJTEL9T:00000001 [INF] Request finished in 5460.9625ms 200 application/json; charset=utf-8 (791a596a)
2017-11-20T18:18:53.8363769+03:30  [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"KhodamoozContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2017-11-20T18:18:53.9152671+03:30  [INF] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0" (0723d8ff)
2017-11-20T18:18:54.1186890+03:30  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetRoles] AS [r]
        WHERE [r].[Name] = N'Admin')
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-20T18:18:54.5208625+03:30 0HL9G4N95ODUB:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Automation/GetLetterFlow/10/14   (ca22a1cb)
2017-11-20T18:18:55.1678684+03:30 0HL9G4N95ODUB:00000001 [INF] Executing action method "pis.AutomationController.GetLetterFlow (pis)" with arguments (["10", "14"]) - ModelState is Valid (ba7f4ac2)
2017-11-20T18:18:59.5599155+03:30 0HL9G4N95ODUB:00000001 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"eOrganizationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2017-11-20T18:18:59.6502126+03:30 0HL9G4N95ODUB:00000001 [WRN] The LINQ expression '"join Users Users in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[pis.data.automation.entities.Users]) on new <>f__AnonymousType5`1(UserID = ToInt32(Convert([Roles].UserId, Object))) equals new <>f__AnonymousType5`1(UserID = [Users].UserId)"' could not be translated and will be evaluated locally. (011792c6)
2017-11-20T18:18:59.6517266+03:30 0HL9G4N95ODUB:00000001 [WRN] The LINQ expression '"join SendReceivers Send_Receivers in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[pis.data.automation.entities.SendReceivers]) on [Sends].SendCode equals [Send_Receivers].SendCode"' could not be translated and will be evaluated locally. (011792c6)
2017-11-20T18:18:59.6538513+03:30 0HL9G4N95ODUB:00000001 [WRN] The LINQ expression '"join Actions Actions in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[pis.data.automation.entities.Actions]) on new <>f__AnonymousType8`1(ActionCode = ToInt32(Convert([Send_Receivers].ActionCode, Object))) equals new <>f__AnonymousType8`1(ActionCode = [Actions].ActionCode)"' could not be translated and will be evaluated locally. (011792c6)
2017-11-20T18:18:59.6557992+03:30 0HL9G4N95ODUB:00000001 [WRN] The LINQ expression '"join Roles Roles_1 in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[pis.data.automation.entities.Roles]) on new <>f__AnonymousType10`1(ReceiverRoleID = [Send_Receivers].ReceiverRoleId) equals new <>f__AnonymousType10`1(ReceiverRoleID = [Roles_1].RoleId)"' could not be translated and will be evaluated locally. (011792c6)
2017-11-20T18:18:59.6573904+03:30 0HL9G4N95ODUB:00000001 [WRN] The LINQ expression '"join Users Users_1 in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[pis.data.automation.entities.Users]) on new <>f__AnonymousType5`1(UserID = ToInt32(Convert([Roles_1].UserId, Object))) equals new <>f__AnonymousType5`1(UserID = [Users_1].UserId)"' could not be translated and will be evaluated locally. (011792c6)
2017-11-20T18:18:59.7704099+03:30 0HL9G4N95ODUB:00000001 [INF] Executed DbCommand ("29"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [Roles].[UserID], [Sends].[SendCode], [Rel_Entity_Indicator].[ID] AS [Barcode], [Rel_Entity_Indicator].[FollowPassword] AS [Password], [Rel_Entity_Indicator].[ImportMethod] AS [RaveshDaryaft], [Rel_Entity_Indicator].[ImportOriginNO] AS [ShomarehAvaliehMadrak], [Rel_Entity_Indicator].[ImportOriginDate] AS [TarikhAvaliehMadrak], [Rel_Entity_Indicator].[DocSubject] AS [MozoeMadrak], [Roles].[RoleName] AS [FerestandehSemat], [Rel_Entity_Indicator].[From] AS [OnvanFerestandehNameh], [Rel_Entity_Indicator].[ImportDate] AS [TarikhSabtVaredeh], [Rel_Entity_Indicator].[NOPgAttached] AS [PeyvastDarad], [Sends].[SendDate] AS [TarikhErja]
FROM [Rel_Entity_Indicator] AS [Rel_Entity_Indicator]
INNER JOIN [Sends] AS [Sends] ON ([Rel_Entity_Indicator].[ETC] = [Sends].[EntityTypeCode]) AND ([Rel_Entity_Indicator].[FEC] = [Sends].[EntityCode])
INNER JOIN [Roles] AS [Roles] ON [Sends].[SenderRoleID] = [Roles].[Role_ID]
WHERE ([Rel_Entity_Indicator].[ETC] = 619) AND ([Rel_Entity_Indicator].[ID] = 749815)" (0723d8ff)
2017-11-20T18:18:59.7785401+03:30 0HL9G4N95ODUB:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [Users].[User_ID], [Users].[FirstName], [Users].[LastName]
FROM [Users] AS [Users]" (0723d8ff)
2017-11-20T18:18:59.7903467+03:30 0HL9G4N95ODUB:00000001 [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [Send_Receivers].[SendCode], [Send_Receivers].[ActionCode], [Send_Receivers].[ReceiverRoleID], [Send_Receivers].[ResponseDate]
FROM [Send_Receivers] AS [Send_Receivers]" (0723d8ff)
2017-11-20T18:19:14.1581185+03:30 0HL9G4N95ODUB:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [Actions].[ActionCode], [Actions].[ActionName]
FROM [Actions] AS [Actions]" (0723d8ff)
2017-11-20T18:19:14.1630197+03:30 0HL9G4N95ODUB:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [Roles_1].[Role_ID], [Roles_1].[UserID], [Roles_1].[RoleName]
FROM [Roles] AS [Roles_1]" (0723d8ff)
2017-11-20T18:19:14.1780347+03:30 0HL9G4N95ODUB:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [Users_1].[User_ID], [Users_1].[FirstName], [Users_1].[LastName]
FROM [Users] AS [Users_1]" (0723d8ff)
2017-11-20T18:19:14.2189899+03:30 0HL9G4N95ODUB:00000001 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-20T18:19:14.3072123+03:30 0HL9G4N95ODUB:00000001 [INF] Executed action "pis.AutomationController.GetLetterFlow (pis)" in 19497.0032ms (afa2e885)
2017-11-20T18:19:14.3143776+03:30 0HL9G4N95ODUB:00000001 [INF] Request finished in 19810.1029ms 200 application/json; charset=utf-8 (791a596a)
2017-11-20T18:19:26.2604397+03:30 0HL9G4N95ODUB:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Automation/GetLetterFlow/10/14   (ca22a1cb)
2017-11-20T18:19:26.2635087+03:30 0HL9G4N95ODUB:00000002 [INF] Executing action method "pis.AutomationController.GetLetterFlow (pis)" with arguments (["10", "14"]) - ModelState is Valid (ba7f4ac2)
2017-11-20T18:19:26.2648983+03:30 0HL9G4N95ODUB:00000002 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"eOrganizationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2017-11-20T18:19:26.2767076+03:30 0HL9G4N95ODUB:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [Roles].[UserID], [Sends].[SendCode], [Rel_Entity_Indicator].[ID] AS [Barcode], [Rel_Entity_Indicator].[FollowPassword] AS [Password], [Rel_Entity_Indicator].[ImportMethod] AS [RaveshDaryaft], [Rel_Entity_Indicator].[ImportOriginNO] AS [ShomarehAvaliehMadrak], [Rel_Entity_Indicator].[ImportOriginDate] AS [TarikhAvaliehMadrak], [Rel_Entity_Indicator].[DocSubject] AS [MozoeMadrak], [Roles].[RoleName] AS [FerestandehSemat], [Rel_Entity_Indicator].[From] AS [OnvanFerestandehNameh], [Rel_Entity_Indicator].[ImportDate] AS [TarikhSabtVaredeh], [Rel_Entity_Indicator].[NOPgAttached] AS [PeyvastDarad], [Sends].[SendDate] AS [TarikhErja]
FROM [Rel_Entity_Indicator] AS [Rel_Entity_Indicator]
INNER JOIN [Sends] AS [Sends] ON ([Rel_Entity_Indicator].[ETC] = [Sends].[EntityTypeCode]) AND ([Rel_Entity_Indicator].[FEC] = [Sends].[EntityCode])
INNER JOIN [Roles] AS [Roles] ON [Sends].[SenderRoleID] = [Roles].[Role_ID]
WHERE ([Rel_Entity_Indicator].[ETC] = 619) AND ([Rel_Entity_Indicator].[ID] = 749815)" (0723d8ff)
2017-11-20T18:19:26.2795281+03:30 0HL9G4N95ODUB:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [Users].[User_ID], [Users].[FirstName], [Users].[LastName]
FROM [Users] AS [Users]" (0723d8ff)
2017-11-20T18:19:26.2881116+03:30 0HL9G4N95ODUB:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [Send_Receivers].[SendCode], [Send_Receivers].[ActionCode], [Send_Receivers].[ReceiverRoleID], [Send_Receivers].[ResponseDate]
FROM [Send_Receivers] AS [Send_Receivers]" (0723d8ff)
2017-11-20T18:19:43.3333262+03:30 0HL9G4N95ODUB:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [Actions].[ActionCode], [Actions].[ActionName]
FROM [Actions] AS [Actions]" (0723d8ff)
2017-11-20T18:19:43.3361759+03:30 0HL9G4N95ODUB:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [Roles_1].[Role_ID], [Roles_1].[UserID], [Roles_1].[RoleName]
FROM [Roles] AS [Roles_1]" (0723d8ff)
2017-11-20T18:19:43.3483755+03:30 0HL9G4N95ODUB:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [Users_1].[User_ID], [Users_1].[FirstName], [Users_1].[LastName]
FROM [Users] AS [Users_1]" (0723d8ff)
2017-11-20T18:19:43.3552679+03:30 0HL9G4N95ODUB:00000002 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-20T18:19:43.3556440+03:30 0HL9G4N95ODUB:00000002 [INF] Executed action "pis.AutomationController.GetLetterFlow (pis)" in 17092.9622ms (afa2e885)
2017-11-20T18:19:43.3557603+03:30 0HL9G4N95ODUB:00000002 [INF] Request finished in 17095.5384ms 200 application/json; charset=utf-8 (791a596a)
2017-11-20T18:21:28.4720395+03:30  [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"KhodamoozContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2017-11-20T18:21:28.5607588+03:30  [INF] Executed DbCommand ("13"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0" (0723d8ff)
2017-11-20T18:21:28.7706015+03:30  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetRoles] AS [r]
        WHERE [r].[Name] = N'Admin')
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-20T18:21:29.0252998+03:30 0HL9G4ON7ARJH:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Automation/GetLetterFlow/10/14   (ca22a1cb)
2017-11-20T18:21:29.6693283+03:30 0HL9G4ON7ARJH:00000001 [INF] Executing action method "pis.AutomationController.GetLetterFlow (pis)" with arguments (["10", "14"]) - ModelState is Valid (ba7f4ac2)
2017-11-20T18:21:34.3073446+03:30 0HL9G4ON7ARJH:00000001 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"eOrganizationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2017-11-20T18:21:34.3971930+03:30 0HL9G4ON7ARJH:00000001 [WRN] The LINQ expression '"join Users Users in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[pis.data.automation.entities.Users]) on new <>f__AnonymousType5`1(UserID = ToInt32(Convert([Roles].UserId, Object))) equals new <>f__AnonymousType5`1(UserID = [Users].UserId)"' could not be translated and will be evaluated locally. (011792c6)
2017-11-20T18:21:34.3990313+03:30 0HL9G4ON7ARJH:00000001 [WRN] The LINQ expression '"join SendReceivers Send_Receivers in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[pis.data.automation.entities.SendReceivers]) on [Sends].SendCode equals [Send_Receivers].SendCode"' could not be translated and will be evaluated locally. (011792c6)
2017-11-20T18:21:34.4013121+03:30 0HL9G4ON7ARJH:00000001 [WRN] The LINQ expression '"join Actions Actions in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[pis.data.automation.entities.Actions]) on new <>f__AnonymousType8`1(ActionCode = ToInt32(Convert([Send_Receivers].ActionCode, Object))) equals new <>f__AnonymousType8`1(ActionCode = [Actions].ActionCode)"' could not be translated and will be evaluated locally. (011792c6)
2017-11-20T18:21:34.4034238+03:30 0HL9G4ON7ARJH:00000001 [WRN] The LINQ expression '"join Roles Roles_1 in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[pis.data.automation.entities.Roles]) on new <>f__AnonymousType10`1(ReceiverRoleID = [Send_Receivers].ReceiverRoleId) equals new <>f__AnonymousType10`1(ReceiverRoleID = [Roles_1].RoleId)"' could not be translated and will be evaluated locally. (011792c6)
2017-11-20T18:21:34.4052044+03:30 0HL9G4ON7ARJH:00000001 [WRN] The LINQ expression '"join Users Users_1 in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[pis.data.automation.entities.Users]) on new <>f__AnonymousType5`1(UserID = ToInt32(Convert([Roles_1].UserId, Object))) equals new <>f__AnonymousType5`1(UserID = [Users_1].UserId)"' could not be translated and will be evaluated locally. (011792c6)
2017-11-20T18:21:34.4976337+03:30 0HL9G4ON7ARJH:00000001 [INF] Executed DbCommand ("28"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [Roles].[UserID], [Sends].[SendCode], [Rel_Entity_Indicator].[ID] AS [Barcode], [Rel_Entity_Indicator].[FollowPassword] AS [Password], [Rel_Entity_Indicator].[ImportMethod] AS [RaveshDaryaft], [Rel_Entity_Indicator].[ImportEntityNumber] AS [shomarehSabtVaredeh], [Rel_Entity_Indicator].[ImportOriginNO] AS [ShomarehAvaliehMadrak], [Rel_Entity_Indicator].[ImportOriginDate] AS [TarikhAvaliehMadrak], [Rel_Entity_Indicator].[DocSubject] AS [MozoeMadrak], [Roles].[RoleName] AS [FerestandehSemat], [Rel_Entity_Indicator].[From] AS [OnvanFerestandehNameh], [Rel_Entity_Indicator].[ImportDate] AS [TarikhSabtVaredeh], [Rel_Entity_Indicator].[NOPgAttached] AS [PeyvastDarad], [Sends].[SendDate] AS [TarikhErja]
FROM [Rel_Entity_Indicator] AS [Rel_Entity_Indicator]
INNER JOIN [Sends] AS [Sends] ON ([Rel_Entity_Indicator].[ETC] = [Sends].[EntityTypeCode]) AND ([Rel_Entity_Indicator].[FEC] = [Sends].[EntityCode])
INNER JOIN [Roles] AS [Roles] ON [Sends].[SenderRoleID] = [Roles].[Role_ID]
WHERE ([Rel_Entity_Indicator].[ETC] = 619) AND ([Rel_Entity_Indicator].[ID] = 749815)" (0723d8ff)
2017-11-20T18:21:34.5150950+03:30 0HL9G4ON7ARJH:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [Users].[User_ID], [Users].[FirstName], [Users].[LastName]
FROM [Users] AS [Users]" (0723d8ff)
2017-11-20T18:21:34.5438005+03:30 0HL9G4ON7ARJH:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [Send_Receivers].[SendCode], [Send_Receivers].[ActionCode], [Send_Receivers].[ReceiverRoleID], [Send_Receivers].[ResponseDate]
FROM [Send_Receivers] AS [Send_Receivers]" (0723d8ff)
2017-11-20T18:21:48.4377391+03:30 0HL9G4ON7ARJH:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [Actions].[ActionCode], [Actions].[ActionName]
FROM [Actions] AS [Actions]" (0723d8ff)
2017-11-20T18:21:48.4417394+03:30 0HL9G4ON7ARJH:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [Roles_1].[Role_ID], [Roles_1].[UserID], [Roles_1].[RoleName]
FROM [Roles] AS [Roles_1]" (0723d8ff)
2017-11-20T18:21:48.4544946+03:30 0HL9G4ON7ARJH:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [Users_1].[User_ID], [Users_1].[FirstName], [Users_1].[LastName]
FROM [Users] AS [Users_1]" (0723d8ff)
2017-11-20T18:21:48.4876317+03:30 0HL9G4ON7ARJH:00000001 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-20T18:21:48.5786535+03:30 0HL9G4ON7ARJH:00000001 [INF] Executed action "pis.AutomationController.GetLetterFlow (pis)" in 19269.4505ms (afa2e885)
2017-11-20T18:21:48.5869897+03:30 0HL9G4ON7ARJH:00000001 [INF] Request finished in 19578.9175ms 200 application/json; charset=utf-8 (791a596a)
2017-11-20T18:21:48.6205492+03:30 0HL9G4ON7ARJH:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico   (ca22a1cb)
2017-11-20T18:21:48.6436795+03:30 0HL9G4ON7ARJH:00000002 [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\Projects\Port Projects\PIS\khodamooz\wwwroot\favicon.ico"' (27b0a520)
2017-11-20T18:21:48.6598285+03:30 0HL9G4ON7ARJH:00000002 [INF] Request finished in 39.3191ms 200 image/x-icon (791a596a)
2017-11-20T18:23:15.9833534+03:30  [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"KhodamoozContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2017-11-20T18:23:16.0622200+03:30  [INF] Executed DbCommand ("11"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0" (0723d8ff)
2017-11-20T18:23:16.2662180+03:30  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetRoles] AS [r]
        WHERE [r].[Name] = N'Admin')
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-20T18:23:16.6713348+03:30 0HL9G4PN9QTG3:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Automation/GetLetterFlow/749815   (ca22a1cb)
2017-11-20T18:23:17.3006705+03:30 0HL9G4PN9QTG3:00000001 [INF] Executing action method "pis.AutomationController.GetLetterFlow (pis)" with arguments (["749815"]) - ModelState is Valid (ba7f4ac2)
2017-11-20T18:23:21.8414827+03:30 0HL9G4PN9QTG3:00000001 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"eOrganizationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2017-11-20T18:23:21.9355005+03:30 0HL9G4PN9QTG3:00000001 [WRN] The LINQ expression '"join Users Users in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[pis.data.automation.entities.Users]) on new <>f__AnonymousType5`1(UserID = ToInt32(Convert([Roles].UserId, Object))) equals new <>f__AnonymousType5`1(UserID = [Users].UserId)"' could not be translated and will be evaluated locally. (011792c6)
2017-11-20T18:23:21.9369593+03:30 0HL9G4PN9QTG3:00000001 [WRN] The LINQ expression '"join SendReceivers Send_Receivers in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[pis.data.automation.entities.SendReceivers]) on [Sends].SendCode equals [Send_Receivers].SendCode"' could not be translated and will be evaluated locally. (011792c6)
2017-11-20T18:23:21.9390163+03:30 0HL9G4PN9QTG3:00000001 [WRN] The LINQ expression '"join Actions Actions in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[pis.data.automation.entities.Actions]) on new <>f__AnonymousType8`1(ActionCode = ToInt32(Convert([Send_Receivers].ActionCode, Object))) equals new <>f__AnonymousType8`1(ActionCode = [Actions].ActionCode)"' could not be translated and will be evaluated locally. (011792c6)
2017-11-20T18:23:21.9410045+03:30 0HL9G4PN9QTG3:00000001 [WRN] The LINQ expression '"join Roles Roles_1 in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[pis.data.automation.entities.Roles]) on new <>f__AnonymousType10`1(ReceiverRoleID = [Send_Receivers].ReceiverRoleId) equals new <>f__AnonymousType10`1(ReceiverRoleID = [Roles_1].RoleId)"' could not be translated and will be evaluated locally. (011792c6)
2017-11-20T18:23:21.9425255+03:30 0HL9G4PN9QTG3:00000001 [WRN] The LINQ expression '"join Users Users_1 in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[pis.data.automation.entities.Users]) on new <>f__AnonymousType5`1(UserID = ToInt32(Convert([Roles_1].UserId, Object))) equals new <>f__AnonymousType5`1(UserID = [Users_1].UserId)"' could not be translated and will be evaluated locally. (011792c6)
2017-11-20T18:23:22.2503969+03:30 0HL9G4PN9QTG3:00000001 [INF] Executed DbCommand ("232"ms) [Parameters=["@__barcodeNo_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [Roles].[UserID], [Sends].[SendCode], [Rel_Entity_Indicator].[ID] AS [Barcode], [Rel_Entity_Indicator].[FollowPassword] AS [Password], [Rel_Entity_Indicator].[ImportMethod] AS [RaveshDaryaft], [Rel_Entity_Indicator].[ImportEntityNumber] AS [shomarehSabtVaredeh], [Rel_Entity_Indicator].[ImportOriginNO] AS [ShomarehAvaliehMadrak], [Rel_Entity_Indicator].[ImportOriginDate] AS [TarikhAvaliehMadrak], [Rel_Entity_Indicator].[DocSubject] AS [MozoeMadrak], [Roles].[RoleName] AS [FerestandehSemat], [Rel_Entity_Indicator].[From] AS [OnvanFerestandehNameh], [Rel_Entity_Indicator].[ImportDate] AS [TarikhSabtVaredeh], [Rel_Entity_Indicator].[NOPgAttached] AS [PeyvastDarad], [Sends].[SendDate] AS [TarikhErja]
FROM [Rel_Entity_Indicator] AS [Rel_Entity_Indicator]
INNER JOIN [Sends] AS [Sends] ON ([Rel_Entity_Indicator].[ETC] = [Sends].[EntityTypeCode]) AND ([Rel_Entity_Indicator].[FEC] = [Sends].[EntityCode])
INNER JOIN [Roles] AS [Roles] ON [Sends].[SenderRoleID] = [Roles].[Role_ID]
WHERE ([Rel_Entity_Indicator].[ETC] = 619) AND (CONVERT(VARCHAR(11), [Rel_Entity_Indicator].[ID]) = @__barcodeNo_0)" (0723d8ff)
2017-11-20T18:23:22.2685156+03:30 0HL9G4PN9QTG3:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [Users].[User_ID], [Users].[FirstName], [Users].[LastName]
FROM [Users] AS [Users]" (0723d8ff)
2017-11-20T18:23:22.2970096+03:30 0HL9G4PN9QTG3:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [Send_Receivers].[SendCode], [Send_Receivers].[ActionCode], [Send_Receivers].[ReceiverRoleID], [Send_Receivers].[ResponseDate]
FROM [Send_Receivers] AS [Send_Receivers]" (0723d8ff)
2017-11-20T18:23:36.6173048+03:30 0HL9G4PN9QTG3:00000001 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [Actions].[ActionCode], [Actions].[ActionName]
FROM [Actions] AS [Actions]" (0723d8ff)
2017-11-20T18:23:36.6210735+03:30 0HL9G4PN9QTG3:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [Roles_1].[Role_ID], [Roles_1].[UserID], [Roles_1].[RoleName]
FROM [Roles] AS [Roles_1]" (0723d8ff)
2017-11-20T18:23:36.6343812+03:30 0HL9G4PN9QTG3:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [Users_1].[User_ID], [Users_1].[FirstName], [Users_1].[LastName]
FROM [Users] AS [Users_1]" (0723d8ff)
2017-11-20T18:23:36.6749164+03:30 0HL9G4PN9QTG3:00000001 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-20T18:23:36.7645038+03:30 0HL9G4PN9QTG3:00000001 [INF] Executed action "pis.AutomationController.GetLetterFlow (pis)" in 19815.1577ms (afa2e885)
2017-11-20T18:23:36.7731555+03:30 0HL9G4PN9QTG3:00000001 [INF] Request finished in 20117.8681ms 200 application/json; charset=utf-8 (791a596a)
2017-11-20T18:23:42.0522142+03:30 0HL9G4PN9QTG3:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Automation/GetLetterFlow/749816   (ca22a1cb)
2017-11-20T18:23:42.0567323+03:30 0HL9G4PN9QTG3:00000002 [INF] Executing action method "pis.AutomationController.GetLetterFlow (pis)" with arguments (["749816"]) - ModelState is Valid (ba7f4ac2)
2017-11-20T18:23:42.0577473+03:30 0HL9G4PN9QTG3:00000002 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"eOrganizationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2017-11-20T18:23:42.2432088+03:30 0HL9G4PN9QTG3:00000002 [INF] Executed DbCommand ("178"ms) [Parameters=["@__barcodeNo_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [Roles].[UserID], [Sends].[SendCode], [Rel_Entity_Indicator].[ID] AS [Barcode], [Rel_Entity_Indicator].[FollowPassword] AS [Password], [Rel_Entity_Indicator].[ImportMethod] AS [RaveshDaryaft], [Rel_Entity_Indicator].[ImportEntityNumber] AS [shomarehSabtVaredeh], [Rel_Entity_Indicator].[ImportOriginNO] AS [ShomarehAvaliehMadrak], [Rel_Entity_Indicator].[ImportOriginDate] AS [TarikhAvaliehMadrak], [Rel_Entity_Indicator].[DocSubject] AS [MozoeMadrak], [Roles].[RoleName] AS [FerestandehSemat], [Rel_Entity_Indicator].[From] AS [OnvanFerestandehNameh], [Rel_Entity_Indicator].[ImportDate] AS [TarikhSabtVaredeh], [Rel_Entity_Indicator].[NOPgAttached] AS [PeyvastDarad], [Sends].[SendDate] AS [TarikhErja]
FROM [Rel_Entity_Indicator] AS [Rel_Entity_Indicator]
INNER JOIN [Sends] AS [Sends] ON ([Rel_Entity_Indicator].[ETC] = [Sends].[EntityTypeCode]) AND ([Rel_Entity_Indicator].[FEC] = [Sends].[EntityCode])
INNER JOIN [Roles] AS [Roles] ON [Sends].[SenderRoleID] = [Roles].[Role_ID]
WHERE ([Rel_Entity_Indicator].[ETC] = 619) AND (CONVERT(VARCHAR(11), [Rel_Entity_Indicator].[ID]) = @__barcodeNo_0)" (0723d8ff)
2017-11-20T18:23:42.2464157+03:30 0HL9G4PN9QTG3:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [Users].[User_ID], [Users].[FirstName], [Users].[LastName]
FROM [Users] AS [Users]" (0723d8ff)
2017-11-20T18:23:42.2582634+03:30 0HL9G4PN9QTG3:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [Send_Receivers].[SendCode], [Send_Receivers].[ActionCode], [Send_Receivers].[ReceiverRoleID], [Send_Receivers].[ResponseDate]
FROM [Send_Receivers] AS [Send_Receivers]" (0723d8ff)
2017-11-20T18:23:57.5551134+03:30 0HL9G4PN9QTG3:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [Actions].[ActionCode], [Actions].[ActionName]
FROM [Actions] AS [Actions]" (0723d8ff)
2017-11-20T18:23:57.5577815+03:30 0HL9G4PN9QTG3:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [Roles_1].[Role_ID], [Roles_1].[UserID], [Roles_1].[RoleName]
FROM [Roles] AS [Roles_1]" (0723d8ff)
2017-11-20T18:23:57.5706941+03:30 0HL9G4PN9QTG3:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [Users_1].[User_ID], [Users_1].[FirstName], [Users_1].[LastName]
FROM [Users] AS [Users_1]" (0723d8ff)
2017-11-20T18:23:57.5766518+03:30 0HL9G4PN9QTG3:00000002 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-20T18:23:57.5769805+03:30 0HL9G4PN9QTG3:00000002 [INF] Executed action "pis.AutomationController.GetLetterFlow (pis)" in 15521.8566ms (afa2e885)
2017-11-20T18:23:57.5770833+03:30 0HL9G4PN9QTG3:00000002 [INF] Request finished in 15525.092ms 200 application/json; charset=utf-8 (791a596a)
2017-11-20T18:28:06.5625821+03:30  [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"KhodamoozContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2017-11-20T18:28:06.6554645+03:30  [INF] Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0" (0723d8ff)
2017-11-20T18:28:06.8656139+03:30  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetRoles] AS [r]
        WHERE [r].[Name] = N'Admin')
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-20T18:28:07.4054854+03:30 0HL9G4SDUDVHA:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Automation/GetLetterFlow/749817   (ca22a1cb)
2017-11-20T18:28:08.0511283+03:30 0HL9G4SDUDVHA:00000001 [INF] Executing action method "pis.AutomationController.GetLetterFlow (pis)" with arguments (["749817"]) - ModelState is Valid (ba7f4ac2)
2017-11-20T18:28:12.6022165+03:30 0HL9G4SDUDVHA:00000001 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"eOrganizationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2017-11-20T18:28:12.6950262+03:30 0HL9G4SDUDVHA:00000001 [WRN] The LINQ expression '"join Users Users in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[pis.data.automation.entities.Users]) on new <>f__AnonymousType5`1(UserID = ToInt32(Convert([Roles].UserId, Object))) equals new <>f__AnonymousType5`1(UserID = [Users].UserId)"' could not be translated and will be evaluated locally. (011792c6)
2017-11-20T18:28:12.6965849+03:30 0HL9G4SDUDVHA:00000001 [WRN] The LINQ expression '"join SendReceivers Send_Receivers in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[pis.data.automation.entities.SendReceivers]) on [Sends].SendCode equals [Send_Receivers].SendCode"' could not be translated and will be evaluated locally. (011792c6)
2017-11-20T18:28:12.6986978+03:30 0HL9G4SDUDVHA:00000001 [WRN] The LINQ expression '"join Actions Actions in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[pis.data.automation.entities.Actions]) on new <>f__AnonymousType8`1(ActionCode = ToInt32(Convert([Send_Receivers].ActionCode, Object))) equals new <>f__AnonymousType8`1(ActionCode = [Actions].ActionCode)"' could not be translated and will be evaluated locally. (011792c6)
2017-11-20T18:28:12.7009459+03:30 0HL9G4SDUDVHA:00000001 [WRN] The LINQ expression '"join Roles Roles_1 in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[pis.data.automation.entities.Roles]) on new <>f__AnonymousType10`1(ReceiverRoleID = [Send_Receivers].ReceiverRoleId) equals new <>f__AnonymousType10`1(ReceiverRoleID = [Roles_1].RoleId)"' could not be translated and will be evaluated locally. (011792c6)
2017-11-20T18:28:12.7026253+03:30 0HL9G4SDUDVHA:00000001 [WRN] The LINQ expression '"join Users Users_1 in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[pis.data.automation.entities.Users]) on new <>f__AnonymousType5`1(UserID = ToInt32(Convert([Roles_1].UserId, Object))) equals new <>f__AnonymousType5`1(UserID = [Users_1].UserId)"' could not be translated and will be evaluated locally. (011792c6)
2017-11-20T18:28:12.8360599+03:30 0HL9G4SDUDVHA:00000001 [ERR] Failed executing DbCommand ("32"ms) [Parameters=["@__barcodeNo_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [Roles].[UserID], [Sends].[SendCode], [Rel_Entity_Indicator].[ID] AS [Barcode], [Rel_Entity_Indicator].[FollowPassword] AS [Password], [Rel_Entity_Indicator].[ImportMethod] AS [RaveshDaryaft], [Rel_Entity_Indicator].[ImportEntityNumber] AS [shomarehSabtVaredeh], [Rel_Entity_Indicator].[ImportOriginNO] AS [ShomarehAvaliehMadrak], [Rel_Entity_Indicator].[ImportOriginDate] AS [TarikhAvaliehMadrak], [Rel_Entity_Indicator].[DocSubject] AS [MozoeMadrak], [Roles].[RoleName] AS [FerestandehSemat], [Rel_Entity_Indicator].[From] AS [OnvanFerestandehNameh], [Rel_Entity_Indicator].[ImportDate] AS [TarikhSabtVaredeh], [Rel_Entity_Indicator].[NOPgAttached] AS [PeyvastDarad], [Sends].[SendDate] AS [TarikhErja]
FROM [Rel_Entity_Indicator] AS [Rel_Entity_Indicator]
INNER JOIN [Sends] AS [Sends] ON ([Rel_Entity_Indicator].[ETC] = [Sends].[EntityTypeCode]) AND ([Rel_Entity_Indicator].[FEC] = [Sends].[EntityCode])
INNER JOIN [Roles] AS [Roles] ON [Sends].[SenderRoleID] = [Roles].[Role_ID]
WHERE ([Rel_Entity_Indicator].[ETC] = 619) AND (CONVERT(VARCHAR(11), [Rel_Entity_Indicator].[ID]) = @__barcodeNo_0)" (627a98df)
System.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Roles', database 'eOrganization', schema 'dbo'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:41ed877a-1a9c-4b43-90e5-68c9fd02e1f4
Error Number:229,State:5,Class:14
2017-11-20T18:28:12.9546623+03:30 0HL9G4SDUDVHA:00000001 [ERR] An exception occurred in the database while iterating the results of a query for context type '"pis.data.automation.entities.eOrganizationContext"'."
""System.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Roles', database 'eOrganization', schema 'dbo'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:41ed877a-1a9c-4b43-90e5-68c9fd02e1f4
Error Number:229,State:5,Class:14" (64e2593c)
System.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Roles', database 'eOrganization', schema 'dbo'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Collections.Generic.List`1.AddEnumerable(IEnumerable`1 enumerable)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at pis.AutomationController.GetLetterFlow(String barcodeNo) in E:\Projects\Port Projects\PIS\khodamooz\Controller\AutomationController.cs:line 27
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
ClientConnectionId:41ed877a-1a9c-4b43-90e5-68c9fd02e1f4
Error Number:229,State:5,Class:14
2017-11-20T18:28:12.9627298+03:30 0HL9G4SDUDVHA:00000001 [INF] Executed action "pis.AutomationController.GetLetterFlow (pis)" in 5271.4309ms (afa2e885)
2017-11-20T18:28:13.1227179+03:30 0HL9G4SDUDVHA:00000001 [ERR] Connection id ""0HL9G4SDUDVHA"", Request id ""0HL9G4SDUDVHA:00000001"": An unhandled exception was thrown by the application. (560e7d32)
System.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Roles', database 'eOrganization', schema 'dbo'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Collections.Generic.List`1.AddEnumerable(IEnumerable`1 enumerable)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at pis.AutomationController.GetLetterFlow(String barcodeNo) in E:\Projects\Port Projects\PIS\khodamooz\Controller\AutomationController.cs:line 27
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at khodamooz.Startup.<>c.<<Configure>b__4_0>d.MoveNext() in E:\Projects\Port Projects\PIS\khodamooz\Startup.cs:line 107
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Server.IISIntegration.IISMiddleware.<Invoke>d__11.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Hosting.Internal.RequestServicesContainerMiddleware.<Invoke>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Frame`1.<ProcessRequestsAsync>d__2.MoveNext()
ClientConnectionId:41ed877a-1a9c-4b43-90e5-68c9fd02e1f4
Error Number:229,State:5,Class:14
2017-11-20T18:28:13.1596281+03:30 0HL9G4SDUDVHA:00000001 [INF] Request finished in 5767.4327ms 500  (791a596a)
2017-11-20T18:28:31.8740916+03:30 0HL9G4SDUDVHA:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Automation/GetLetterFlow/749817   (ca22a1cb)
2017-11-20T18:28:31.8777264+03:30 0HL9G4SDUDVHA:00000002 [INF] Executing action method "pis.AutomationController.GetLetterFlow (pis)" with arguments (["749817"]) - ModelState is Valid (ba7f4ac2)
2017-11-20T18:28:31.8787251+03:30 0HL9G4SDUDVHA:00000002 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"eOrganizationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2017-11-20T18:28:31.9114135+03:30 0HL9G4SDUDVHA:00000002 [ERR] Failed executing DbCommand ("3"ms) [Parameters=["@__barcodeNo_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [Roles].[UserID], [Sends].[SendCode], [Rel_Entity_Indicator].[ID] AS [Barcode], [Rel_Entity_Indicator].[FollowPassword] AS [Password], [Rel_Entity_Indicator].[ImportMethod] AS [RaveshDaryaft], [Rel_Entity_Indicator].[ImportEntityNumber] AS [shomarehSabtVaredeh], [Rel_Entity_Indicator].[ImportOriginNO] AS [ShomarehAvaliehMadrak], [Rel_Entity_Indicator].[ImportOriginDate] AS [TarikhAvaliehMadrak], [Rel_Entity_Indicator].[DocSubject] AS [MozoeMadrak], [Roles].[RoleName] AS [FerestandehSemat], [Rel_Entity_Indicator].[From] AS [OnvanFerestandehNameh], [Rel_Entity_Indicator].[ImportDate] AS [TarikhSabtVaredeh], [Rel_Entity_Indicator].[NOPgAttached] AS [PeyvastDarad], [Sends].[SendDate] AS [TarikhErja]
FROM [Rel_Entity_Indicator] AS [Rel_Entity_Indicator]
INNER JOIN [Sends] AS [Sends] ON ([Rel_Entity_Indicator].[ETC] = [Sends].[EntityTypeCode]) AND ([Rel_Entity_Indicator].[FEC] = [Sends].[EntityCode])
INNER JOIN [Roles] AS [Roles] ON [Sends].[SenderRoleID] = [Roles].[Role_ID]
WHERE ([Rel_Entity_Indicator].[ETC] = 619) AND (CONVERT(VARCHAR(11), [Rel_Entity_Indicator].[ID]) = @__barcodeNo_0)" (627a98df)
System.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Roles', database 'eOrganization', schema 'dbo'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:41ed877a-1a9c-4b43-90e5-68c9fd02e1f4
Error Number:229,State:5,Class:14
2017-11-20T18:28:32.0354766+03:30 0HL9G4SDUDVHA:00000002 [ERR] An exception occurred in the database while iterating the results of a query for context type '"pis.data.automation.entities.eOrganizationContext"'."
""System.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Roles', database 'eOrganization', schema 'dbo'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:41ed877a-1a9c-4b43-90e5-68c9fd02e1f4
Error Number:229,State:5,Class:14" (64e2593c)
System.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Roles', database 'eOrganization', schema 'dbo'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Collections.Generic.List`1.AddEnumerable(IEnumerable`1 enumerable)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at pis.AutomationController.GetLetterFlow(String barcodeNo) in E:\Projects\Port Projects\PIS\khodamooz\Controller\AutomationController.cs:line 27
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at khodamooz.Startup.<>c.<<Configure>b__4_0>d.MoveNext() in E:\Projects\Port Projects\PIS\khodamooz\Startup.cs:line 107
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Server.IISIntegration.IISMiddleware.<Invoke>d__11.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Hosting.Internal.RequestServicesContainerMiddleware.<Invoke>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Frame`1.<ProcessRequestsAsync>d__2.MoveNext()
ClientConnectionId:41ed877a-1a9c-4b43-90e5-68c9fd02e1f4
Error Number:229,State:5,Class:14
2017-11-20T18:28:32.0366704+03:30 0HL9G4SDUDVHA:00000002 [INF] Executed action "pis.AutomationController.GetLetterFlow (pis)" in 160.0519ms (afa2e885)
2017-11-20T18:28:32.1666821+03:30 0HL9G4SDUDVHA:00000002 [ERR] Connection id ""0HL9G4SDUDVHA"", Request id ""0HL9G4SDUDVHA:00000002"": An unhandled exception was thrown by the application. (560e7d32)
System.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Roles', database 'eOrganization', schema 'dbo'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Collections.Generic.List`1.AddEnumerable(IEnumerable`1 enumerable)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at pis.AutomationController.GetLetterFlow(String barcodeNo) in E:\Projects\Port Projects\PIS\khodamooz\Controller\AutomationController.cs:line 27
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at khodamooz.Startup.<>c.<<Configure>b__4_0>d.MoveNext() in E:\Projects\Port Projects\PIS\khodamooz\Startup.cs:line 107
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Server.IISIntegration.IISMiddleware.<Invoke>d__11.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Hosting.Internal.RequestServicesContainerMiddleware.<Invoke>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Frame`1.<ProcessRequestsAsync>d__2.MoveNext()
ClientConnectionId:41ed877a-1a9c-4b43-90e5-68c9fd02e1f4
Error Number:229,State:5,Class:14
2017-11-20T18:28:32.1669426+03:30 0HL9G4SDUDVHA:00000002 [INF] Request finished in 292.9063ms 500  (791a596a)
2017-11-20T18:28:40.5430694+03:30 0HL9G4SDUDVHA:00000003 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Automation/GetLetterFlow/749817   (ca22a1cb)
2017-11-20T18:28:40.5437251+03:30 0HL9G4SDUDVHA:00000003 [INF] Executing action method "pis.AutomationController.GetLetterFlow (pis)" with arguments (["749817"]) - ModelState is Valid (ba7f4ac2)
2017-11-20T18:28:40.5441403+03:30 0HL9G4SDUDVHA:00000003 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"eOrganizationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2017-11-20T18:28:40.5724017+03:30 0HL9G4SDUDVHA:00000003 [ERR] Failed executing DbCommand ("2"ms) [Parameters=["@__barcodeNo_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [Roles].[UserID], [Sends].[SendCode], [Rel_Entity_Indicator].[ID] AS [Barcode], [Rel_Entity_Indicator].[FollowPassword] AS [Password], [Rel_Entity_Indicator].[ImportMethod] AS [RaveshDaryaft], [Rel_Entity_Indicator].[ImportEntityNumber] AS [shomarehSabtVaredeh], [Rel_Entity_Indicator].[ImportOriginNO] AS [ShomarehAvaliehMadrak], [Rel_Entity_Indicator].[ImportOriginDate] AS [TarikhAvaliehMadrak], [Rel_Entity_Indicator].[DocSubject] AS [MozoeMadrak], [Roles].[RoleName] AS [FerestandehSemat], [Rel_Entity_Indicator].[From] AS [OnvanFerestandehNameh], [Rel_Entity_Indicator].[ImportDate] AS [TarikhSabtVaredeh], [Rel_Entity_Indicator].[NOPgAttached] AS [PeyvastDarad], [Sends].[SendDate] AS [TarikhErja]
FROM [Rel_Entity_Indicator] AS [Rel_Entity_Indicator]
INNER JOIN [Sends] AS [Sends] ON ([Rel_Entity_Indicator].[ETC] = [Sends].[EntityTypeCode]) AND ([Rel_Entity_Indicator].[FEC] = [Sends].[EntityCode])
INNER JOIN [Roles] AS [Roles] ON [Sends].[SenderRoleID] = [Roles].[Role_ID]
WHERE ([Rel_Entity_Indicator].[ETC] = 619) AND (CONVERT(VARCHAR(11), [Rel_Entity_Indicator].[ID]) = @__barcodeNo_0)" (627a98df)
System.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Roles', database 'eOrganization', schema 'dbo'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:41ed877a-1a9c-4b43-90e5-68c9fd02e1f4
Error Number:229,State:5,Class:14
2017-11-20T18:28:40.6866701+03:30 0HL9G4SDUDVHA:00000003 [ERR] An exception occurred in the database while iterating the results of a query for context type '"pis.data.automation.entities.eOrganizationContext"'."
""System.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Roles', database 'eOrganization', schema 'dbo'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:41ed877a-1a9c-4b43-90e5-68c9fd02e1f4
Error Number:229,State:5,Class:14" (64e2593c)
System.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Roles', database 'eOrganization', schema 'dbo'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Collections.Generic.List`1.AddEnumerable(IEnumerable`1 enumerable)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at pis.AutomationController.GetLetterFlow(String barcodeNo) in E:\Projects\Port Projects\PIS\khodamooz\Controller\AutomationController.cs:line 27
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at khodamooz.Startup.<>c.<<Configure>b__4_0>d.MoveNext() in E:\Projects\Port Projects\PIS\khodamooz\Startup.cs:line 107
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Server.IISIntegration.IISMiddleware.<Invoke>d__11.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Hosting.Internal.RequestServicesContainerMiddleware.<Invoke>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Frame`1.<ProcessRequestsAsync>d__2.MoveNext()
ClientConnectionId:41ed877a-1a9c-4b43-90e5-68c9fd02e1f4
Error Number:229,State:5,Class:14
2017-11-20T18:28:40.6876409+03:30 0HL9G4SDUDVHA:00000003 [INF] Executed action "pis.AutomationController.GetLetterFlow (pis)" in 144.2863ms (afa2e885)
2017-11-20T18:28:40.8131095+03:30 0HL9G4SDUDVHA:00000003 [ERR] Connection id ""0HL9G4SDUDVHA"", Request id ""0HL9G4SDUDVHA:00000003"": An unhandled exception was thrown by the application. (560e7d32)
System.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Roles', database 'eOrganization', schema 'dbo'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Collections.Generic.List`1.AddEnumerable(IEnumerable`1 enumerable)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at pis.AutomationController.GetLetterFlow(String barcodeNo) in E:\Projects\Port Projects\PIS\khodamooz\Controller\AutomationController.cs:line 27
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at khodamooz.Startup.<>c.<<Configure>b__4_0>d.MoveNext() in E:\Projects\Port Projects\PIS\khodamooz\Startup.cs:line 107
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Server.IISIntegration.IISMiddleware.<Invoke>d__11.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Hosting.Internal.RequestServicesContainerMiddleware.<Invoke>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Frame`1.<ProcessRequestsAsync>d__2.MoveNext()
ClientConnectionId:41ed877a-1a9c-4b43-90e5-68c9fd02e1f4
Error Number:229,State:5,Class:14
2017-11-20T18:28:40.8133421+03:30 0HL9G4SDUDVHA:00000003 [INF] Request finished in 270.3128ms 500  (791a596a)
2017-11-20T18:28:56.5594365+03:30 0HL9G4SDUDVHA:00000004 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Automation/GetLetterFlow/749817   (ca22a1cb)
2017-11-20T18:28:56.5600068+03:30 0HL9G4SDUDVHA:00000004 [INF] Executing action method "pis.AutomationController.GetLetterFlow (pis)" with arguments (["749817"]) - ModelState is Valid (ba7f4ac2)
2017-11-20T18:28:56.5603862+03:30 0HL9G4SDUDVHA:00000004 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"eOrganizationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2017-11-20T18:28:56.5900070+03:30 0HL9G4SDUDVHA:00000004 [ERR] Failed executing DbCommand ("4"ms) [Parameters=["@__barcodeNo_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [Roles].[UserID], [Sends].[SendCode], [Rel_Entity_Indicator].[ID] AS [Barcode], [Rel_Entity_Indicator].[FollowPassword] AS [Password], [Rel_Entity_Indicator].[ImportMethod] AS [RaveshDaryaft], [Rel_Entity_Indicator].[ImportEntityNumber] AS [shomarehSabtVaredeh], [Rel_Entity_Indicator].[ImportOriginNO] AS [ShomarehAvaliehMadrak], [Rel_Entity_Indicator].[ImportOriginDate] AS [TarikhAvaliehMadrak], [Rel_Entity_Indicator].[DocSubject] AS [MozoeMadrak], [Roles].[RoleName] AS [FerestandehSemat], [Rel_Entity_Indicator].[From] AS [OnvanFerestandehNameh], [Rel_Entity_Indicator].[ImportDate] AS [TarikhSabtVaredeh], [Rel_Entity_Indicator].[NOPgAttached] AS [PeyvastDarad], [Sends].[SendDate] AS [TarikhErja]
FROM [Rel_Entity_Indicator] AS [Rel_Entity_Indicator]
INNER JOIN [Sends] AS [Sends] ON ([Rel_Entity_Indicator].[ETC] = [Sends].[EntityTypeCode]) AND ([Rel_Entity_Indicator].[FEC] = [Sends].[EntityCode])
INNER JOIN [Roles] AS [Roles] ON [Sends].[SenderRoleID] = [Roles].[Role_ID]
WHERE ([Rel_Entity_Indicator].[ETC] = 619) AND (CONVERT(VARCHAR(11), [Rel_Entity_Indicator].[ID]) = @__barcodeNo_0)" (627a98df)
System.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Roles', database 'eOrganization', schema 'dbo'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:41ed877a-1a9c-4b43-90e5-68c9fd02e1f4
Error Number:229,State:5,Class:14
2017-11-20T18:28:56.7074105+03:30 0HL9G4SDUDVHA:00000004 [ERR] An exception occurred in the database while iterating the results of a query for context type '"pis.data.automation.entities.eOrganizationContext"'."
""System.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Roles', database 'eOrganization', schema 'dbo'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:41ed877a-1a9c-4b43-90e5-68c9fd02e1f4
Error Number:229,State:5,Class:14" (64e2593c)
System.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Roles', database 'eOrganization', schema 'dbo'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Collections.Generic.List`1.AddEnumerable(IEnumerable`1 enumerable)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at pis.AutomationController.GetLetterFlow(String barcodeNo) in E:\Projects\Port Projects\PIS\khodamooz\Controller\AutomationController.cs:line 27
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at khodamooz.Startup.<>c.<<Configure>b__4_0>d.MoveNext() in E:\Projects\Port Projects\PIS\khodamooz\Startup.cs:line 107
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Server.IISIntegration.IISMiddleware.<Invoke>d__11.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Hosting.Internal.RequestServicesContainerMiddleware.<Invoke>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Frame`1.<ProcessRequestsAsync>d__2.MoveNext()
ClientConnectionId:41ed877a-1a9c-4b43-90e5-68c9fd02e1f4
Error Number:229,State:5,Class:14
2017-11-20T18:28:56.7084936+03:30 0HL9G4SDUDVHA:00000004 [INF] Executed action "pis.AutomationController.GetLetterFlow (pis)" in 148.7621ms (afa2e885)
2017-11-20T18:28:56.8353451+03:30 0HL9G4SDUDVHA:00000004 [ERR] Connection id ""0HL9G4SDUDVHA"", Request id ""0HL9G4SDUDVHA:00000004"": An unhandled exception was thrown by the application. (560e7d32)
System.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Roles', database 'eOrganization', schema 'dbo'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
   at System.Collections.Generic.List`1.AddEnumerable(IEnumerable`1 enumerable)
   at System.Linq.Enumerable.ToList[TSource](IEnumerable`1 source)
   at pis.AutomationController.GetLetterFlow(String barcodeNo) in E:\Projects\Port Projects\PIS\khodamooz\Controller\AutomationController.cs:line 27
   at lambda_method(Closure , Object , Object[] )
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeActionMethodAsync>d__12.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeNextActionFilterAsync>d__10.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.<InvokeInnerFilterAsync>d__14.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeNextResourceFilter>d__22.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeFilterPipelineAsync>d__17.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.<InvokeAsync>d__15.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.<Invoke>d__4.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.<Invoke>d__6.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at khodamooz.Startup.<>c.<<Configure>b__4_0>d.MoveNext() in E:\Projects\Port Projects\PIS\khodamooz\Startup.cs:line 107
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Server.IISIntegration.IISMiddleware.<Invoke>d__11.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Hosting.Internal.RequestServicesContainerMiddleware.<Invoke>d__3.MoveNext()
--- End of stack trace from previous location where exception was thrown ---
   at System.Runtime.ExceptionServices.ExceptionDispatchInfo.Throw()
   at System.Runtime.CompilerServices.TaskAwaiter.HandleNonSuccessAndDebuggerNotification(Task task)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.Frame`1.<ProcessRequestsAsync>d__2.MoveNext()
ClientConnectionId:41ed877a-1a9c-4b43-90e5-68c9fd02e1f4
Error Number:229,State:5,Class:14
2017-11-20T18:28:56.8355488+03:30 0HL9G4SDUDVHA:00000004 [INF] Request finished in 276.147ms 500  (791a596a)
2017-11-20T18:29:11.1184604+03:30  [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"KhodamoozContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2017-11-20T18:29:11.2668895+03:30  [INF] Executed DbCommand ("21"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0" (0723d8ff)
2017-11-20T18:29:11.5368780+03:30  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetRoles] AS [r]
        WHERE [r].[Name] = N'Admin')
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-20T18:29:44.0349094+03:30 0HL9G4T16UFBN:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Automation/GetLetterFlow/749817   (ca22a1cb)
2017-11-20T18:29:45.4407521+03:30 0HL9G4T16UFBN:00000001 [INF] Executing action method "pis.AutomationController.GetLetterFlow (pis)" with arguments (["749817"]) - ModelState is Valid (ba7f4ac2)
2017-11-20T18:29:50.1701585+03:30 0HL9G4T16UFBN:00000001 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"eOrganizationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2017-11-20T18:29:50.3120669+03:30 0HL9G4T16UFBN:00000001 [WRN] The LINQ expression '"join Users Users in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[pis.data.automation.entities.Users]) on new <>f__AnonymousType5`1(UserID = ToInt32(Convert([Roles].UserId, Object))) equals new <>f__AnonymousType5`1(UserID = [Users].UserId)"' could not be translated and will be evaluated locally. (011792c6)
2017-11-20T18:29:50.3416278+03:30 0HL9G4T16UFBN:00000001 [WRN] The LINQ expression '"join SendReceivers Send_Receivers in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[pis.data.automation.entities.SendReceivers]) on [Sends].SendCode equals [Send_Receivers].SendCode"' could not be translated and will be evaluated locally. (011792c6)
2017-11-20T18:29:50.3942686+03:30 0HL9G4T16UFBN:00000001 [WRN] The LINQ expression '"join Actions Actions in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[pis.data.automation.entities.Actions]) on new <>f__AnonymousType8`1(ActionCode = ToInt32(Convert([Send_Receivers].ActionCode, Object))) equals new <>f__AnonymousType8`1(ActionCode = [Actions].ActionCode)"' could not be translated and will be evaluated locally. (011792c6)
2017-11-20T18:29:50.4434097+03:30 0HL9G4T16UFBN:00000001 [WRN] The LINQ expression '"join Roles Roles_1 in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[pis.data.automation.entities.Roles]) on new <>f__AnonymousType10`1(ReceiverRoleID = [Send_Receivers].ReceiverRoleId) equals new <>f__AnonymousType10`1(ReceiverRoleID = [Roles_1].RoleId)"' could not be translated and will be evaluated locally. (011792c6)
2017-11-20T18:29:50.4971525+03:30 0HL9G4T16UFBN:00000001 [WRN] The LINQ expression '"join Users Users_1 in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[pis.data.automation.entities.Users]) on new <>f__AnonymousType5`1(UserID = ToInt32(Convert([Roles_1].UserId, Object))) equals new <>f__AnonymousType5`1(UserID = [Users_1].UserId)"' could not be translated and will be evaluated locally. (011792c6)
2017-11-20T18:29:50.6638698+03:30 0HL9G4T16UFBN:00000001 [ERR] Failed executing DbCommand ("21"ms) [Parameters=["@__barcodeNo_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [Roles].[UserID], [Sends].[SendCode], [Rel_Entity_Indicator].[ID] AS [Barcode], [Rel_Entity_Indicator].[FollowPassword] AS [Password], [Rel_Entity_Indicator].[ImportMethod] AS [RaveshDaryaft], [Rel_Entity_Indicator].[ImportEntityNumber] AS [shomarehSabtVaredeh], [Rel_Entity_Indicator].[ImportOriginNO] AS [ShomarehAvaliehMadrak], [Rel_Entity_Indicator].[ImportOriginDate] AS [TarikhAvaliehMadrak], [Rel_Entity_Indicator].[DocSubject] AS [MozoeMadrak], [Roles].[RoleName] AS [FerestandehSemat], [Rel_Entity_Indicator].[From] AS [OnvanFerestandehNameh], [Rel_Entity_Indicator].[ImportDate] AS [TarikhSabtVaredeh], [Rel_Entity_Indicator].[NOPgAttached] AS [PeyvastDarad], [Sends].[SendDate] AS [TarikhErja]
FROM [Rel_Entity_Indicator] AS [Rel_Entity_Indicator]
INNER JOIN [Sends] AS [Sends] ON ([Rel_Entity_Indicator].[ETC] = [Sends].[EntityTypeCode]) AND ([Rel_Entity_Indicator].[FEC] = [Sends].[EntityCode])
INNER JOIN [Roles] AS [Roles] ON [Sends].[SenderRoleID] = [Roles].[Role_ID]
WHERE ([Rel_Entity_Indicator].[ETC] = 619) AND (CONVERT(VARCHAR(11), [Rel_Entity_Indicator].[ID]) = @__barcodeNo_0)" (627a98df)
System.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Roles', database 'eOrganization', schema 'dbo'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:b66a1e4c-b15e-42a6-bad2-573ffabe4419
Error Number:229,State:5,Class:14
2017-11-20T18:37:27.1728891+03:30  [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"KhodamoozContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2017-11-20T18:37:27.3638027+03:30  [INF] Executed DbCommand ("24"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0" (0723d8ff)
2017-11-20T18:37:27.6637928+03:30  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetRoles] AS [r]
        WHERE [r].[Name] = N'Admin')
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-20T18:37:33.3133181+03:30 0HL9G51L1IHNS:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Automation/GetLetterFlow/749815   (ca22a1cb)
2017-11-20T18:37:34.2231796+03:30 0HL9G51L1IHNS:00000001 [INF] Executing action method "pis.AutomationController.GetLetterFlow (pis)" with arguments (["749815"]) - ModelState is Valid (ba7f4ac2)
2017-11-20T18:37:39.1039033+03:30 0HL9G51L1IHNS:00000001 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"eOrganizationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2017-11-20T18:37:39.2579419+03:30 0HL9G51L1IHNS:00000001 [WRN] The LINQ expression '"join Users Users in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[pis.data.automation.entities.Users]) on new <>f__AnonymousType5`1(UserID = ToInt32(Convert([Roles].UserId, Object))) equals new <>f__AnonymousType5`1(UserID = [Users].UserId)"' could not be translated and will be evaluated locally. (011792c6)
2017-11-20T18:37:39.3097453+03:30 0HL9G51L1IHNS:00000001 [WRN] The LINQ expression '"join SendReceivers Send_Receivers in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[pis.data.automation.entities.SendReceivers]) on [Sends].SendCode equals [Send_Receivers].SendCode"' could not be translated and will be evaluated locally. (011792c6)
2017-11-20T18:37:39.3779325+03:30 0HL9G51L1IHNS:00000001 [WRN] The LINQ expression '"join Actions Actions in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[pis.data.automation.entities.Actions]) on new <>f__AnonymousType8`1(ActionCode = ToInt32(Convert([Send_Receivers].ActionCode, Object))) equals new <>f__AnonymousType8`1(ActionCode = [Actions].ActionCode)"' could not be translated and will be evaluated locally. (011792c6)
2017-11-20T18:37:39.4442547+03:30 0HL9G51L1IHNS:00000001 [WRN] The LINQ expression '"join Roles Roles_1 in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[pis.data.automation.entities.Roles]) on new <>f__AnonymousType10`1(ReceiverRoleID = [Send_Receivers].ReceiverRoleId) equals new <>f__AnonymousType10`1(ReceiverRoleID = [Roles_1].RoleId)"' could not be translated and will be evaluated locally. (011792c6)
2017-11-20T18:37:39.5074691+03:30 0HL9G51L1IHNS:00000001 [WRN] The LINQ expression '"join Users Users_1 in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[pis.data.automation.entities.Users]) on new <>f__AnonymousType5`1(UserID = ToInt32(Convert([Roles_1].UserId, Object))) equals new <>f__AnonymousType5`1(UserID = [Users_1].UserId)"' could not be translated and will be evaluated locally. (011792c6)
2017-11-20T18:37:39.6786921+03:30 0HL9G51L1IHNS:00000001 [ERR] Failed executing DbCommand ("20"ms) [Parameters=["@__barcodeNo_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [Roles].[UserID], [Sends].[SendCode], [Rel_Entity_Indicator].[ID] AS [Barcode], [Rel_Entity_Indicator].[FollowPassword] AS [Password], [Rel_Entity_Indicator].[ImportMethod] AS [RaveshDaryaft], [Rel_Entity_Indicator].[ImportEntityNumber] AS [shomarehSabtVaredeh], [Rel_Entity_Indicator].[ImportOriginNO] AS [ShomarehAvaliehMadrak], [Rel_Entity_Indicator].[ImportOriginDate] AS [TarikhAvaliehMadrak], [Rel_Entity_Indicator].[DocSubject] AS [MozoeMadrak], [Roles].[RoleName] AS [FerestandehSemat], [Rel_Entity_Indicator].[From] AS [OnvanFerestandehNameh], [Rel_Entity_Indicator].[ImportDate] AS [TarikhSabtVaredeh], [Rel_Entity_Indicator].[NOPgAttached] AS [PeyvastDarad], [Sends].[SendDate] AS [TarikhErja]
FROM [Rel_Entity_Indicator] AS [Rel_Entity_Indicator]
INNER JOIN [Sends] AS [Sends] ON ([Rel_Entity_Indicator].[ETC] = [Sends].[EntityTypeCode]) AND ([Rel_Entity_Indicator].[FEC] = [Sends].[EntityCode])
INNER JOIN [Roles] AS [Roles] ON [Sends].[SenderRoleID] = [Roles].[Role_ID]
WHERE ([Rel_Entity_Indicator].[ETC] = 619) AND (CONVERT(VARCHAR(11), [Rel_Entity_Indicator].[ID]) = @__barcodeNo_0)" (627a98df)
System.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Roles', database 'eOrganization', schema 'dbo'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:ac0488f4-ad48-45b4-9f81-40759f39b2f0
Error Number:229,State:5,Class:14
2017-11-20T18:39:25.9555141+03:30  [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"KhodamoozContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2017-11-20T18:39:26.1277637+03:30  [INF] Executed DbCommand ("19"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0" (0723d8ff)
2017-11-20T18:39:26.4160350+03:30  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetRoles] AS [r]
        WHERE [r].[Name] = N'Admin')
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-20T18:40:34.0411895+03:30 0HL9G52OD3QDQ:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Automation/GetLetterFlow/749815   (ca22a1cb)
2017-11-20T18:40:34.8612147+03:30 0HL9G52OD3QDQ:00000001 [INF] Executing action method "pis.AutomationController.GetLetterFlow (pis)" with arguments (["749815"]) - ModelState is Valid (ba7f4ac2)
2017-11-20T18:40:39.5813114+03:30 0HL9G52OD3QDQ:00000001 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"eOrganizationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2017-11-20T18:40:39.7338925+03:30 0HL9G52OD3QDQ:00000001 [WRN] The LINQ expression '"join Users Users in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[pis.data.automation.entities.Users]) on new <>f__AnonymousType5`1(UserID = ToInt32(Convert([Roles].UserId, Object))) equals new <>f__AnonymousType5`1(UserID = [Users].UserId)"' could not be translated and will be evaluated locally. (011792c6)
2017-11-20T18:40:39.7868424+03:30 0HL9G52OD3QDQ:00000001 [WRN] The LINQ expression '"join SendReceivers Send_Receivers in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[pis.data.automation.entities.SendReceivers]) on [Sends].SendCode equals [Send_Receivers].SendCode"' could not be translated and will be evaluated locally. (011792c6)
2017-11-20T18:40:39.8425245+03:30 0HL9G52OD3QDQ:00000001 [WRN] The LINQ expression '"join Actions Actions in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[pis.data.automation.entities.Actions]) on new <>f__AnonymousType8`1(ActionCode = ToInt32(Convert([Send_Receivers].ActionCode, Object))) equals new <>f__AnonymousType8`1(ActionCode = [Actions].ActionCode)"' could not be translated and will be evaluated locally. (011792c6)
2017-11-20T18:40:39.8997248+03:30 0HL9G52OD3QDQ:00000001 [WRN] The LINQ expression '"join Roles Roles_1 in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[pis.data.automation.entities.Roles]) on new <>f__AnonymousType10`1(ReceiverRoleID = [Send_Receivers].ReceiverRoleId) equals new <>f__AnonymousType10`1(ReceiverRoleID = [Roles_1].RoleId)"' could not be translated and will be evaluated locally. (011792c6)
2017-11-20T18:40:39.9646104+03:30 0HL9G52OD3QDQ:00000001 [WRN] The LINQ expression '"join Users Users_1 in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[pis.data.automation.entities.Users]) on new <>f__AnonymousType5`1(UserID = ToInt32(Convert([Roles_1].UserId, Object))) equals new <>f__AnonymousType5`1(UserID = [Users_1].UserId)"' could not be translated and will be evaluated locally. (011792c6)
2017-11-20T18:40:40.1672941+03:30 0HL9G52OD3QDQ:00000001 [ERR] Failed executing DbCommand ("21"ms) [Parameters=["@__barcodeNo_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [Roles].[UserID], [Sends].[SendCode], [Rel_Entity_Indicator].[ID] AS [Barcode], [Rel_Entity_Indicator].[FollowPassword] AS [Password], [Rel_Entity_Indicator].[ImportMethod] AS [RaveshDaryaft], [Rel_Entity_Indicator].[ImportEntityNumber] AS [shomarehSabtVaredeh], [Rel_Entity_Indicator].[ImportOriginNO] AS [ShomarehAvaliehMadrak], [Rel_Entity_Indicator].[ImportOriginDate] AS [TarikhAvaliehMadrak], [Rel_Entity_Indicator].[DocSubject] AS [MozoeMadrak], [Roles].[RoleName] AS [FerestandehSemat], [Rel_Entity_Indicator].[From] AS [OnvanFerestandehNameh], [Rel_Entity_Indicator].[ImportDate] AS [TarikhSabtVaredeh], [Rel_Entity_Indicator].[NOPgAttached] AS [PeyvastDarad], [Sends].[SendDate] AS [TarikhErja]
FROM [Rel_Entity_Indicator] AS [Rel_Entity_Indicator]
INNER JOIN [Sends] AS [Sends] ON ([Rel_Entity_Indicator].[ETC] = [Sends].[EntityTypeCode]) AND ([Rel_Entity_Indicator].[FEC] = [Sends].[EntityCode])
INNER JOIN [Roles] AS [Roles] ON [Sends].[SenderRoleID] = [Roles].[Role_ID]
WHERE ([Rel_Entity_Indicator].[ETC] = 619) AND (CONVERT(VARCHAR(11), [Rel_Entity_Indicator].[ID]) = @__barcodeNo_0)" (627a98df)
System.Data.SqlClient.SqlException (0x80131904): The SELECT permission was denied on the object 'Roles', database 'eOrganization', schema 'dbo'.
   at System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at System.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at System.Data.SqlClient.SqlDataReader.get_MetaData()
   at System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   at System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   at System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite, String method)
   at System.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)
   at System.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.Execute(IRelationalConnection connection, DbCommandMethod executeMethod, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Storage.Internal.RelationalCommand.ExecuteReader(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.BufferlessMoveNext(Boolean buffer)
   at Microsoft.EntityFrameworkCore.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)
   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.Enumerator.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.<JoinIterator>d__81`4.MoveNext()
   at System.Linq.Enumerable.SelectEnumerableIterator`2.MoveNext()
   at Microsoft.EntityFrameworkCore.Query.Internal.LinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext()
ClientConnectionId:9fd94ffd-c2e9-419d-b4cb-f63382815266
Error Number:229,State:5,Class:14
2017-11-20T18:41:50.1069314+03:30  [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"KhodamoozContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2017-11-20T18:41:50.2796601+03:30  [INF] Executed DbCommand ("20"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0" (0723d8ff)
2017-11-20T18:41:50.5591841+03:30  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetRoles] AS [r]
        WHERE [r].[Name] = N'Admin')
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-20T18:42:00.9285135+03:30 0HL9G543BGNCG:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Automation/GetLetterFlow/749815   (ca22a1cb)
2017-11-20T18:42:02.0211020+03:30 0HL9G543BGNCG:00000001 [INF] Executing action method "pis.AutomationController.GetLetterFlow (pis)" with arguments (["749815"]) - ModelState is Valid (ba7f4ac2)
2017-11-20T18:42:07.5075430+03:30 0HL9G543BGNCG:00000001 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"eOrganizationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2017-11-20T18:42:07.6822215+03:30 0HL9G543BGNCG:00000001 [WRN] The LINQ expression '"join Users Users in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[pis.data.automation.entities.Users]) on new <>f__AnonymousType5`1(UserID = ToInt32(Convert([Roles].UserId, Object))) equals new <>f__AnonymousType5`1(UserID = [Users].UserId)"' could not be translated and will be evaluated locally. (011792c6)
2017-11-20T18:42:07.7297258+03:30 0HL9G543BGNCG:00000001 [WRN] The LINQ expression '"join SendReceivers Send_Receivers in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[pis.data.automation.entities.SendReceivers]) on [Sends].SendCode equals [Send_Receivers].SendCode"' could not be translated and will be evaluated locally. (011792c6)
2017-11-20T18:42:07.7775284+03:30 0HL9G543BGNCG:00000001 [WRN] The LINQ expression '"join Actions Actions in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[pis.data.automation.entities.Actions]) on new <>f__AnonymousType8`1(ActionCode = ToInt32(Convert([Send_Receivers].ActionCode, Object))) equals new <>f__AnonymousType8`1(ActionCode = [Actions].ActionCode)"' could not be translated and will be evaluated locally. (011792c6)
2017-11-20T18:42:07.8259472+03:30 0HL9G543BGNCG:00000001 [WRN] The LINQ expression '"join Roles Roles_1 in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[pis.data.automation.entities.Roles]) on new <>f__AnonymousType10`1(ReceiverRoleID = [Send_Receivers].ReceiverRoleId) equals new <>f__AnonymousType10`1(ReceiverRoleID = [Roles_1].RoleId)"' could not be translated and will be evaluated locally. (011792c6)
2017-11-20T18:42:07.8809510+03:30 0HL9G543BGNCG:00000001 [WRN] The LINQ expression '"join Users Users_1 in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[pis.data.automation.entities.Users]) on new <>f__AnonymousType5`1(UserID = ToInt32(Convert([Roles_1].UserId, Object))) equals new <>f__AnonymousType5`1(UserID = [Users_1].UserId)"' could not be translated and will be evaluated locally. (011792c6)
2017-11-20T18:42:08.2519985+03:30 0HL9G543BGNCG:00000001 [INF] Executed DbCommand ("227"ms) [Parameters=["@__barcodeNo_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [Roles].[UserID], [Sends].[SendCode], [Rel_Entity_Indicator].[ID] AS [Barcode], [Rel_Entity_Indicator].[FollowPassword] AS [Password], [Rel_Entity_Indicator].[ImportMethod] AS [RaveshDaryaft], [Rel_Entity_Indicator].[ImportEntityNumber] AS [shomarehSabtVaredeh], [Rel_Entity_Indicator].[ImportOriginNO] AS [ShomarehAvaliehMadrak], [Rel_Entity_Indicator].[ImportOriginDate] AS [TarikhAvaliehMadrak], [Rel_Entity_Indicator].[DocSubject] AS [MozoeMadrak], [Roles].[RoleName] AS [FerestandehSemat], [Rel_Entity_Indicator].[From] AS [OnvanFerestandehNameh], [Rel_Entity_Indicator].[ImportDate] AS [TarikhSabtVaredeh], [Rel_Entity_Indicator].[NOPgAttached] AS [PeyvastDarad], [Sends].[SendDate] AS [TarikhErja]
FROM [Rel_Entity_Indicator] AS [Rel_Entity_Indicator]
INNER JOIN [Sends] AS [Sends] ON ([Rel_Entity_Indicator].[ETC] = [Sends].[EntityTypeCode]) AND ([Rel_Entity_Indicator].[FEC] = [Sends].[EntityCode])
INNER JOIN [Roles] AS [Roles] ON [Sends].[SenderRoleID] = [Roles].[Role_ID]
WHERE ([Rel_Entity_Indicator].[ETC] = 619) AND (CONVERT(VARCHAR(11), [Rel_Entity_Indicator].[ID]) = @__barcodeNo_0)" (0723d8ff)
2017-11-20T18:42:08.3269177+03:30 0HL9G543BGNCG:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [Users].[User_ID], [Users].[FirstName], [Users].[LastName]
FROM [Users] AS [Users]" (0723d8ff)
2017-11-20T18:42:08.4137532+03:30 0HL9G543BGNCG:00000001 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [Send_Receivers].[SendCode], [Send_Receivers].[ActionCode], [Send_Receivers].[ReceiverRoleID], [Send_Receivers].[ResponseDate]
FROM [Send_Receivers] AS [Send_Receivers]" (0723d8ff)
2017-11-20T18:42:23.3022917+03:30 0HL9G543BGNCG:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [Actions].[ActionCode], [Actions].[ActionName]
FROM [Actions] AS [Actions]" (0723d8ff)
2017-11-20T18:42:23.3670390+03:30 0HL9G543BGNCG:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [Roles_1].[Role_ID], [Roles_1].[UserID], [Roles_1].[RoleName]
FROM [Roles] AS [Roles_1]" (0723d8ff)
2017-11-20T18:42:23.4136934+03:30 0HL9G543BGNCG:00000001 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [Users_1].[User_ID], [Users_1].[FirstName], [Users_1].[LastName]
FROM [Users] AS [Users_1]" (0723d8ff)
2017-11-20T18:42:23.5101540+03:30 0HL9G543BGNCG:00000001 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-20T18:42:23.7121011+03:30 0HL9G543BGNCG:00000001 [INF] Executed action "pis.AutomationController.GetLetterFlow (pis)" in 22258.1198ms (afa2e885)
2017-11-20T18:42:23.7664812+03:30 0HL9G543BGNCG:00000001 [INF] Request finished in 22872.0129ms 200 application/json; charset=utf-8 (791a596a)
2017-11-20T18:42:32.5107787+03:30 0HL9G543BGNCG:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Automation/GetLetterFlow/749815   (ca22a1cb)
2017-11-20T18:42:32.5618618+03:30 0HL9G543BGNCG:00000002 [INF] Executing action method "pis.AutomationController.GetLetterFlow (pis)" with arguments (["749815"]) - ModelState is Valid (ba7f4ac2)
2017-11-20T18:42:32.5886788+03:30 0HL9G543BGNCG:00000002 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"eOrganizationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2017-11-20T18:42:32.8617423+03:30 0HL9G543BGNCG:00000002 [INF] Executed DbCommand ("218"ms) [Parameters=["@__barcodeNo_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [Roles].[UserID], [Sends].[SendCode], [Rel_Entity_Indicator].[ID] AS [Barcode], [Rel_Entity_Indicator].[FollowPassword] AS [Password], [Rel_Entity_Indicator].[ImportMethod] AS [RaveshDaryaft], [Rel_Entity_Indicator].[ImportEntityNumber] AS [shomarehSabtVaredeh], [Rel_Entity_Indicator].[ImportOriginNO] AS [ShomarehAvaliehMadrak], [Rel_Entity_Indicator].[ImportOriginDate] AS [TarikhAvaliehMadrak], [Rel_Entity_Indicator].[DocSubject] AS [MozoeMadrak], [Roles].[RoleName] AS [FerestandehSemat], [Rel_Entity_Indicator].[From] AS [OnvanFerestandehNameh], [Rel_Entity_Indicator].[ImportDate] AS [TarikhSabtVaredeh], [Rel_Entity_Indicator].[NOPgAttached] AS [PeyvastDarad], [Sends].[SendDate] AS [TarikhErja]
FROM [Rel_Entity_Indicator] AS [Rel_Entity_Indicator]
INNER JOIN [Sends] AS [Sends] ON ([Rel_Entity_Indicator].[ETC] = [Sends].[EntityTypeCode]) AND ([Rel_Entity_Indicator].[FEC] = [Sends].[EntityCode])
INNER JOIN [Roles] AS [Roles] ON [Sends].[SenderRoleID] = [Roles].[Role_ID]
WHERE ([Rel_Entity_Indicator].[ETC] = 619) AND (CONVERT(VARCHAR(11), [Rel_Entity_Indicator].[ID]) = @__barcodeNo_0)" (0723d8ff)
2017-11-20T18:42:32.9109027+03:30 0HL9G543BGNCG:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [Users].[User_ID], [Users].[FirstName], [Users].[LastName]
FROM [Users] AS [Users]" (0723d8ff)
2017-11-20T18:42:32.9608344+03:30 0HL9G543BGNCG:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [Send_Receivers].[SendCode], [Send_Receivers].[ActionCode], [Send_Receivers].[ReceiverRoleID], [Send_Receivers].[ResponseDate]
FROM [Send_Receivers] AS [Send_Receivers]" (0723d8ff)
2017-11-20T18:42:48.8031245+03:30 0HL9G543BGNCG:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [Actions].[ActionCode], [Actions].[ActionName]
FROM [Actions] AS [Actions]" (0723d8ff)
2017-11-20T18:42:48.8581929+03:30 0HL9G543BGNCG:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [Roles_1].[Role_ID], [Roles_1].[UserID], [Roles_1].[RoleName]
FROM [Roles] AS [Roles_1]" (0723d8ff)
2017-11-20T18:42:48.9253809+03:30 0HL9G543BGNCG:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [Users_1].[User_ID], [Users_1].[FirstName], [Users_1].[LastName]
FROM [Users] AS [Users_1]" (0723d8ff)
2017-11-20T18:42:48.9920823+03:30 0HL9G543BGNCG:00000002 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-20T18:42:49.0406075+03:30 0HL9G543BGNCG:00000002 [INF] Executed action "pis.AutomationController.GetLetterFlow (pis)" in 16479.8104ms (afa2e885)
2017-11-20T18:42:49.0874333+03:30 0HL9G543BGNCG:00000002 [INF] Request finished in 16576.2193ms 200 application/json; charset=utf-8 (791a596a)
2017-11-20T18:53:59.2306171+03:30  [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"KhodamoozContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2017-11-20T18:53:59.3194539+03:30  [INF] Executed DbCommand ("14"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""IF EXISTS (SELECT * FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE') SELECT 1 ELSE SELECT 0" (0723d8ff)
2017-11-20T18:53:59.5341637+03:30  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [AspNetRoles] AS [r]
        WHERE [r].[Name] = N'Admin')
    THEN CAST(1 AS BIT) ELSE CAST(0 AS BIT)
END" (0723d8ff)
2017-11-20T18:54:00.0000244+03:30 0HL9G5ASL54KK:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Automation/GetLetterFlow/749817   (ca22a1cb)
2017-11-20T18:54:00.6532197+03:30 0HL9G5ASL54KK:00000001 [INF] Executing action method "pis.AutomationController.GetLetterFlow (pis)" with arguments (["749817"]) - ModelState is Valid (ba7f4ac2)
2017-11-20T18:54:05.2624475+03:30 0HL9G5ASL54KK:00000001 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"eOrganizationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2017-11-20T18:54:05.3620955+03:30 0HL9G5ASL54KK:00000001 [WRN] The LINQ expression '"join Users Users in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[pis.data.automation.entities.Users]) on new <>f__AnonymousType5`1(UserID = ToInt32(Convert([Roles].UserId, Object))) equals new <>f__AnonymousType5`1(UserID = [Users].UserId)"' could not be translated and will be evaluated locally. (011792c6)
2017-11-20T18:54:05.3636444+03:30 0HL9G5ASL54KK:00000001 [WRN] The LINQ expression '"join SendReceivers Send_Receivers in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[pis.data.automation.entities.SendReceivers]) on [Sends].SendCode equals [Send_Receivers].SendCode"' could not be translated and will be evaluated locally. (011792c6)
2017-11-20T18:54:05.3657067+03:30 0HL9G5ASL54KK:00000001 [WRN] The LINQ expression '"join Actions Actions in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[pis.data.automation.entities.Actions]) on new <>f__AnonymousType8`1(ActionCode = ToInt32(Convert([Send_Receivers].ActionCode, Object))) equals new <>f__AnonymousType8`1(ActionCode = [Actions].ActionCode)"' could not be translated and will be evaluated locally. (011792c6)
2017-11-20T18:54:05.3677141+03:30 0HL9G5ASL54KK:00000001 [WRN] The LINQ expression '"join Roles Roles_1 in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[pis.data.automation.entities.Roles]) on new <>f__AnonymousType10`1(ReceiverRoleID = [Send_Receivers].ReceiverRoleId) equals new <>f__AnonymousType10`1(ReceiverRoleID = [Roles_1].RoleId)"' could not be translated and will be evaluated locally. (011792c6)
2017-11-20T18:54:05.3697693+03:30 0HL9G5ASL54KK:00000001 [WRN] The LINQ expression '"join Users Users_1 in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[pis.data.automation.entities.Users]) on new <>f__AnonymousType5`1(UserID = ToInt32(Convert([Roles_1].UserId, Object))) equals new <>f__AnonymousType5`1(UserID = [Users_1].UserId)"' could not be translated and will be evaluated locally. (011792c6)
2017-11-20T18:54:05.5759477+03:30 0HL9G5ASL54KK:00000001 [INF] Executed DbCommand ("148"ms) [Parameters=["@__barcodeNo_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [Roles].[UserID], [Sends].[SendCode], [Rel_Entity_Indicator].[ID] AS [Barcode], [Rel_Entity_Indicator].[FollowPassword] AS [Password], [Rel_Entity_Indicator].[ImportMethod] AS [RaveshDaryaft], [Rel_Entity_Indicator].[ImportEntityNumber] AS [shomarehSabtVaredeh], [Rel_Entity_Indicator].[ImportOriginNO] AS [ShomarehAvaliehMadrak], [Rel_Entity_Indicator].[ImportOriginDate] AS [TarikhAvaliehMadrak], [Rel_Entity_Indicator].[DocSubject] AS [MozoeMadrak], [Roles].[RoleName] AS [FerestandehSemat], [Rel_Entity_Indicator].[From] AS [OnvanFerestandehNameh], [Rel_Entity_Indicator].[ImportDate] AS [TarikhSabtVaredeh], [Rel_Entity_Indicator].[NOPgAttached] AS [PeyvastDarad], [Sends].[SendDate] AS [TarikhErja]
FROM [Rel_Entity_Indicator] AS [Rel_Entity_Indicator]
INNER JOIN [Sends] AS [Sends] ON ([Rel_Entity_Indicator].[ETC] = [Sends].[EntityTypeCode]) AND ([Rel_Entity_Indicator].[FEC] = [Sends].[EntityCode])
INNER JOIN [Roles] AS [Roles] ON [Sends].[SenderRoleID] = [Roles].[Role_ID]
WHERE ([Rel_Entity_Indicator].[ETC] = 619) AND (CONVERT(VARCHAR(11), [Rel_Entity_Indicator].[ID]) = @__barcodeNo_0)" (0723d8ff)
2017-11-20T18:54:05.6393177+03:30 0HL9G5ASL54KK:00000001 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-20T18:54:05.6867375+03:30 0HL9G5ASL54KK:00000001 [INF] Executed action "pis.AutomationController.GetLetterFlow (pis)" in 5389.0241ms (afa2e885)
2017-11-20T18:54:05.6940410+03:30 0HL9G5ASL54KK:00000001 [INF] Request finished in 5709.8861ms 404 text/plain; charset=utf-8 (791a596a)
2017-11-20T18:54:11.6044256+03:30 0HL9G5ASL54KK:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Automation/GetLetterFlow/749816   (ca22a1cb)
2017-11-20T18:54:11.6082980+03:30 0HL9G5ASL54KK:00000002 [INF] Executing action method "pis.AutomationController.GetLetterFlow (pis)" with arguments (["749816"]) - ModelState is Valid (ba7f4ac2)
2017-11-20T18:54:11.6095651+03:30 0HL9G5ASL54KK:00000002 [INF] Entity Framework Core "2.0.1-rtm-125" initialized '"eOrganizationContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2017-11-20T18:54:11.7823403+03:30 0HL9G5ASL54KK:00000002 [INF] Executed DbCommand ("165"ms) [Parameters=["@__barcodeNo_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [Roles].[UserID], [Sends].[SendCode], [Rel_Entity_Indicator].[ID] AS [Barcode], [Rel_Entity_Indicator].[FollowPassword] AS [Password], [Rel_Entity_Indicator].[ImportMethod] AS [RaveshDaryaft], [Rel_Entity_Indicator].[ImportEntityNumber] AS [shomarehSabtVaredeh], [Rel_Entity_Indicator].[ImportOriginNO] AS [ShomarehAvaliehMadrak], [Rel_Entity_Indicator].[ImportOriginDate] AS [TarikhAvaliehMadrak], [Rel_Entity_Indicator].[DocSubject] AS [MozoeMadrak], [Roles].[RoleName] AS [FerestandehSemat], [Rel_Entity_Indicator].[From] AS [OnvanFerestandehNameh], [Rel_Entity_Indicator].[ImportDate] AS [TarikhSabtVaredeh], [Rel_Entity_Indicator].[NOPgAttached] AS [PeyvastDarad], [Sends].[SendDate] AS [TarikhErja]
FROM [Rel_Entity_Indicator] AS [Rel_Entity_Indicator]
INNER JOIN [Sends] AS [Sends] ON ([Rel_Entity_Indicator].[ETC] = [Sends].[EntityTypeCode]) AND ([Rel_Entity_Indicator].[FEC] = [Sends].[EntityCode])
INNER JOIN [Roles] AS [Roles] ON [Sends].[SenderRoleID] = [Roles].[Role_ID]
WHERE ([Rel_Entity_Indicator].[ETC] = 619) AND (CONVERT(VARCHAR(11), [Rel_Entity_Indicator].[ID]) = @__barcodeNo_0)" (0723d8ff)
2017-11-20T18:54:11.7956618+03:30 0HL9G5ASL54KK:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [Users].[User_ID], [Users].[FirstName], [Users].[LastName]
FROM [Users] AS [Users]" (0723d8ff)
2017-11-20T18:54:11.8208137+03:30 0HL9G5ASL54KK:00000002 [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [Send_Receivers].[SendCode], [Send_Receivers].[ActionCode], [Send_Receivers].[ReceiverRoleID], [Send_Receivers].[ResponseDate]
FROM [Send_Receivers] AS [Send_Receivers]" (0723d8ff)
2017-11-20T18:54:26.2289215+03:30 0HL9G5ASL54KK:00000002 [INF] Executed DbCommand ("1"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [Actions].[ActionCode], [Actions].[ActionName]
FROM [Actions] AS [Actions]" (0723d8ff)
2017-11-20T18:54:26.2327180+03:30 0HL9G5ASL54KK:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [Roles_1].[Role_ID], [Roles_1].[UserID], [Roles_1].[RoleName]
FROM [Roles] AS [Roles_1]" (0723d8ff)
2017-11-20T18:54:26.2464162+03:30 0HL9G5ASL54KK:00000002 [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [Users_1].[User_ID], [Users_1].[FirstName], [Users_1].[LastName]
FROM [Users] AS [Users_1]" (0723d8ff)
2017-11-20T18:54:26.2575725+03:30 0HL9G5ASL54KK:00000002 [INF] Executing ObjectResult, writing value "Microsoft.AspNetCore.Mvc.ControllerContext". (4e968210)
2017-11-20T18:54:26.3096555+03:30 0HL9G5ASL54KK:00000002 [INF] Executed action "pis.AutomationController.GetLetterFlow (pis)" in 14702.7734ms (afa2e885)
2017-11-20T18:54:26.3097733+03:30 0HL9G5ASL54KK:00000002 [INF] Request finished in 14705.6258ms 200 application/json; charset=utf-8 (791a596a)
2017-11-20T18:55:27.4536717+03:30 0HL9G5ASL54KL:00000001 [INF] Request starting HTTP/1.1 GET http://localhost:5000/home   (ca22a1cb)
2017-11-20T18:55:27.4768884+03:30 0HL9G5ASL54KL:00000001 [INF] Sending file. Request path: '"/index.html"'. Physical path: '"E:\Projects\Port Projects\PIS\khodamooz\wwwroot\index.html"' (27b0a520)
2017-11-20T18:55:27.4909763+03:30 0HL9G5ASL54KL:00000001 [INF] Request finished in 37.2564ms 200 text/html (791a596a)
2017-11-20T18:55:27.7144204+03:30 0HL9G5ASL54KL:00000002 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico   (ca22a1cb)
2017-11-20T18:55:27.7148253+03:30 0HL9G5ASL54KL:00000002 [INF] Sending file. Request path: '"/favicon.ico"'. Physical path: '"E:\Projects\Port Projects\PIS\khodamooz\wwwroot\favicon.ico"' (27b0a520)
2017-11-20T18:55:27.7182134+03:30 0HL9G5ASL54KL:00000002 [INF] Request finished in 3.7835ms 200 image/x-icon (791a596a)
